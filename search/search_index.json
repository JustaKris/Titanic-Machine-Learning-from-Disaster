{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"Titanic Survival Analysis &amp; Prediction - ML Project <p>A production-ready machine learning system for predicting passenger survival on the Titanic</p> View on GitHub"},{"location":"#overview","title":"Overview","text":"<p>This portfolio project demonstrates professional machine learning engineering practices through the classic Kaggle Titanic competition. It showcases how to build production-grade ML systems with clean code, comprehensive documentation, and deployment-ready architecture:</p> <ul> <li>\ud83d\udd2c Research &amp; Development: Comprehensive Jupyter notebook with EDA, feature engineering, and model optimization</li> <li>\ud83c\udfd7\ufe0f Production Architecture: Modular, scalable ML pipeline following software engineering best practices</li> <li>\ud83c\udf10 Web Deployment: Flask API with Docker containerization and cloud deployment</li> <li>\ud83d\udcca Model Explainability: SHAP analysis for interpretable predictions</li> <li>\u2705 Code Quality: Type hints, testing, CI/CD, and comprehensive logging</li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li> <p> Quick Start</p> <p>Get the project running locally in under 5 minutes</p> <p> Installation Guide</p> </li> <li> <p> Deployment</p> <p>Deploy to Docker, Render, or Azure with CI/CD pipelines</p> <p> Deployment Guide</p> </li> <li> <p> API Reference</p> <p>Complete documentation of all modules and functions</p> <p> API Docs</p> </li> <li> <p> Architecture</p> <p>Understand the system design and ML pipeline</p> <p> Architecture Guide</p> </li> </ul>"},{"location":"#project-highlights","title":"Project Highlights","text":""},{"location":"#machine-learning-excellence","title":"Machine Learning Excellence","text":"<ul> <li>8+ Model Comparison: Logistic Regression, Random Forest, XGBoost, CatBoost, SVM, and more</li> <li>Hyperparameter Optimization: GridSearchCV with stratified K-fold cross-validation</li> <li>Ensemble Methods: Voting classifiers for robust predictions</li> <li>Advanced Feature Engineering: Domain-driven features (cabin analysis, title extraction, fare normalization)</li> <li>Model Explainability: SHAP waterfall plots and feature importance analysis</li> </ul> <p>Results: 85.3% accuracy with XGBoost (top 10% on Kaggle leaderboard)</p>"},{"location":"#software-engineering","title":"Software Engineering","text":"<ul> <li>Modular Design: Clean separation of data, features, models, and API layers</li> <li>Type Safety: Comprehensive type hints throughout codebase</li> <li>Testing: Unit and integration tests with pytest</li> <li>Logging: Azure-ready structured logging with JSON output</li> <li>CI/CD: GitHub Actions for automated testing and deployment</li> <li>Containerization: Optimized Docker images with multi-stage builds</li> </ul>"},{"location":"#technology-stack","title":"Technology Stack","text":""},{"location":"#core-ml-libraries","title":"Core ML Libraries","text":"<ul> <li>scikit-learn - ML algorithms and preprocessing</li> <li>XGBoost - Gradient boosting</li> <li>CatBoost - Categorical boosting</li> <li>pandas - Data manipulation</li> <li>numpy - Numerical computing</li> </ul>"},{"location":"#explainability-visualization","title":"Explainability &amp; Visualization","text":"<ul> <li>SHAP - Model explainability</li> <li>matplotlib - Plotting</li> <li>seaborn - Statistical visualizations</li> </ul>"},{"location":"#web-deployment","title":"Web &amp; Deployment","text":"<ul> <li>Flask - Web framework</li> <li>Docker - Containerization</li> <li>Render/Azure - Cloud hosting</li> <li>GitHub Actions - CI/CD</li> </ul>"},{"location":"#getting-started","title":"Getting Started","text":"<p>Choose your path:</p> Quick StartAnalysis NotebookDocker Deployment <p>Get running locally in 5 minutes:</p> <pre><code># Clone repository\ngit clone https://github.com/JustaKris/Titanic-Machine-Learning-from-Disaster.git\ncd Titanic-Machine-Learning-from-Disaster\n\n# Install dependencies\nuv sync\n\n# Run web app\npython app.py\n</code></pre> <p> Full Setup Guide</p> <p>Dive into the analysis in the included Jupyter notebook:</p> <pre><code># Install with notebook dependencies\nuv sync --group notebooks\n\n# Launch Jupyter\njupyter lab notebooks/Titanic-Machine-Learning-from-Disaster.ipynb\n</code></pre> <p>The notebook demonstrates advanced feature engineering, model training, and SHAP explanations.</p> <p>Deploy with Docker:</p> <pre><code># Build image\ndocker build -t titanic-survival-predictor .\n\n# Run container\ndocker run -p 5000:5000 titanic-survival-predictor\n</code></pre> <p> Deployment Guide</p>"},{"location":"#documentation-contents","title":"Documentation Contents","text":""},{"location":"#guides","title":"Guides","text":"<ul> <li>Quick Start - Get up and running</li> <li>Installation - Detailed setup instructions</li> <li>Testing - Run tests and code quality checks</li> <li>Deployment - Deploy to production</li> <li>Architecture - System design overview</li> <li>Configuration - Settings and options</li> <li>Advanced Features - Deep dive into feature engineering</li> <li>API Reference - Complete API reference</li> <li>Explainability - Model interpretation with SHAP</li> </ul>"},{"location":"#performance","title":"Performance","text":"Metric Value Notes Accuracy 85.3% XGBoost (tuned) F1 Score 84.3% Weighted average API Latency &lt;50ms Average prediction time Docker Image ~1.2GB Optimized multi-stage build"},{"location":"#live-demo","title":"Live Demo","text":"<p>Try the deployed application:</p> <p>\ud83d\udd17 Titanic Survival Predictor on Render (free tier may take ~30s to wake from sleep)</p>"},{"location":"#contributing","title":"Contributing","text":"<p>Contributions are welcome! Feel free to: - Open issues for bugs or feature requests - Submit pull requests - Improve documentation - Share feedback</p>"},{"location":"#license","title":"License","text":"<p>This project is licensed under the MIT License.</p>"},{"location":"#contact","title":"Contact","text":"<p>Kristiyan Bonev</p> <ul> <li>GitHub: @JustaKris</li> <li>Email: k.s.bonev@gmail.com</li> </ul>   **\u2b50 If this project helps you, please star it on GitHub! \u2b50**"},{"location":"explanations/advanced-features/","title":"Advanced Features# Advanced features# Advanced features# Advanced Features# Advanced Features","text":"<p>This page summarizes the notebook's advanced techniques: explainability</p> <p>with SHAP, enhanced visualizations, and production-ready pipeline tips.</p> <p>This page summarizes the notebook's advanced techniques: explainability</p>"},{"location":"explanations/advanced-features/#shap-explainability","title":"SHAP Explainability","text":"<p>with SHAP, enhanced visualizations, and production-ready pipeline tips.</p> <p>SHAP (SHapley Additive exPlanations) attributes model predictions to</p> <p>features. For tree-based models use <code>TreeExplainer</code> (fast). For otherThis page summarizes the notebook's advanced techniques: explainability</p> <p>models <code>KernelExplainer</code> can be used but is much slower.</p>"},{"location":"explanations/advanced-features/#shap-explainability-concise","title":"SHAP explainability (concise)","text":"<p>Key visualizations:</p> <p>with SHAP, enhanced visualizations, and production-ready pipeline tips.</p> <ul> <li> <p>Summary plot \u2014 global feature importance</p> </li> <li> <p>Dependence plots \u2014 relationship between a feature and its SHAP valueSHAP (SHapley Additive exPlanations) attributes model predictions to</p> </li> <li> <p>Waterfall/force plots \u2014 single-prediction breakdown</p> </li> </ul> <p>features. For tree-based models use <code>TreeExplainer</code> (fast). For otherAdvanced capabilities beyond the baseline ML pipeline.Advanced capabilities beyond the baseline ML pipeline.</p> <p>Example:</p> <p>models <code>KernelExplainer</code> can be used but is much slower.</p> <pre><code>explainer = shap.TreeExplainer(model)## SHAP explainability (concise)\n\nshap_values = explainer.shap_values(X_sample)\n\nshap.summary_plot(shap_values, X_sample)Key visualizations:\n</code></pre>"},{"location":"explanations/advanced-features/#feature-engineering-highlights","title":"Feature Engineering Highlights","text":"<ul> <li>Summary plot \u2014 global feature importance</li> </ul> <p>Notebook-derived engineered features used in the pipeline:</p> <ul> <li> <p>Dependence plots \u2014 relationship between a feature and its SHAP valueSHAP (SHapley Additive exPlanations) attributes model predictions to</p> </li> <li> <p><code>cabin_multiple</code> \u2014 number of cabins</p> </li> <li> <p><code>name_title</code> \u2014 extracted title from passenger name- Waterfall/force plots \u2014 single-prediction breakdown</p> </li> <li> <p><code>norm_fare</code> \u2014 log- or scaled fare</p> </li> </ul> <p>features. For tree-based models use <code>TreeExplainer</code> (fast). For other## SHAP Explainability## SHAP Explainability</p> <p>Keep transformations reproducible: implement them as transformers in</p> <p>the production <code>Pipeline</code> (see <code>titanic_ml/pipeline/train_pipeline.py</code>).Example:</p>"},{"location":"explanations/advanced-features/#visualizationsmodels-kernelexplainer-can-be-used-but-is-much-slower","title":"Visualizationsmodels <code>KernelExplainer</code> can be used but is much slower.","text":"<ul> <li><code>plot_cv_score_distribution()</code> \u2014 boxplots of CV scores to inspect```python</li> </ul> <p>stability</p> <ul> <li> <p><code>plot_precision_recall_curve()</code> \u2014 preferred for imbalanced datasetsexplainer = shap.TreeExplainer(model)</p> </li> <li> <p><code>plot_model_comparison()</code> \u2014 horizontal bar chart of model scores</p> </li> </ul> <p>shap_values = explainer.shap_values(X_sample)</p>"},{"location":"explanations/advanced-features/#production-notes","title":"Production Notes","text":"<p>shap.summary_plot(shap_values, X_sample)Key visualizations:</p> <ul> <li>Use the pipeline for production training and inference to avoid data</li> </ul> <p>leakage (preprocessing fit only on training data)```</p> <ul> <li>Serialize pipelines with <code>pickle</code> (or ONNX for cross-platform</li> </ul> <p>serving) and store in <code>models/</code>SHAP (SHapley Additive exPlanations) explains model predictions by computing feature contributions.SHAP (SHapley Additive exPlanations) explains model predictions by computing feature contributions.</p>"},{"location":"explanations/advanced-features/#troubleshooting-feature-engineering-highlights","title":"Troubleshooting## Feature engineering highlights","text":"<ul> <li> <p>SHAP memory issues: reduce sample size- Summary plot \u2014 global feature importance</p> </li> <li> <p>Feature name mismatches: ensure the same <code>FeatureEngineer</code> is used</p> </li> </ul> <p>during training and inference- <code>cabin_multiple</code>: number of cabins</p> <ul> <li> <p>Pickling errors: avoid local (nested) class definitions</p> </li> <li> <p><code>name_title</code>: title extracted from passenger name- Dependence plots \u2014 relationship between a feature and its SHAP value</p> </li> </ul>"},{"location":"explanations/advanced-features/#recommended-usage-pattern","title":"Recommended Usage Pattern","text":"<ul> <li><code>norm_fare</code>: normalized or log-transformed fare</li> </ul> <p>Use the notebook for exploration and the pipeline module for training</p> <p>and deployment. Keep configuration and constants in- Waterfall/force plots \u2014 single-prediction breakdown</p> <p><code>notebooks/utils/config.py</code> to avoid hardcoded values in cells.</p> <p>Implement these as Transformers in the production pipeline to avoid</p> <p>leakage.### Available Visualizations### Implementation</p> <p>For more details see the notebook Section 9 (SHAP) and</p> <p><code>titanic_ml/pipeline/train_pipeline.py</code>.</p>"},{"location":"explanations/advanced-features/#visualizationsexample","title":"VisualizationsExample:","text":"<ul> <li><code>plot_cv_score_distribution()</code> \u2014 boxplots of CV scores to inspect# Advanced Features</li> </ul> <p>model stability</p> <ul> <li> <p><code>plot_precision_recall_curve()</code> \u2014 useful for imbalanced datasets```python</p> </li> <li> <p><code>plot_model_comparison()</code> \u2014 horizontal bar chart of model scores</p> </li> </ul> <p>explainer = shap.TreeExplainer(model)This page summarizes the notebook's advanced techniques: explainability</p>"},{"location":"explanations/advanced-features/#production-notes_1","title":"Production notes","text":"<p>shap_values = explainer.shap_values(X_sample)with SHAP, enhanced visualizations, and production-ready pipeline tips.</p> <ul> <li>Use <code>titanic_ml/pipeline/train_pipeline.py</code> for production training to ensure</li> </ul> <p>consistent preprocessing and avoid leakageshap.summary_plot(shap_values, X_sample)</p> <ul> <li>Serialize pipelines (pickle/ONNX) and store under <code>models/</code></li> </ul>"},{"location":"explanations/advanced-features/#shap-explainability-concise_1","title":"SHAP Explainability (Concise)","text":""},{"location":"explanations/advanced-features/#troubleshooting","title":"Troubleshooting","text":"<ul> <li> <p>SHAP memory issues: reduce sample size</p> </li> <li> <p>Feature name mismatches: ensure same feature engineering at train## Feature engineering highlightsSHAP (SHapley Additive exPlanations) attributes model predictions to</p> </li> </ul> <p>and inference</p> <ul> <li>Pickling errors: define classes at module levelfeatures. Use TreeExplainer for tree models (fast) and KernelExplainer</li> </ul> <p>---- <code>cabin_multiple</code>: number of cabinsonly when necessary (slow).</p> <p>For more details see the notebook Section 9 (SHAP) and- <code>name_title</code>: title extracted from passenger name</p> <p><code>titanic_ml/pipeline/train_pipeline.py</code>.</p> <ul> <li><code>norm_fare</code>: normalized or log-transformed fareKey visualizations:</li> </ul> <p>Implement these as Transformers in the production pipeline to avoid- Summary plot \u2014 global feature importance</p> <p>leakage.- Dependence plots \u2014 feature value vs. SHAP value</p> <ul> <li>Waterfall / force plots \u2014 single-prediction explanations</li> </ul>"},{"location":"explanations/advanced-features/#visualizations","title":"Visualizations","text":"<p>Best practices:</p> <ul> <li><code>plot_cv_score_distribution()</code> \u2014 boxplots of CV scores to inspect</li> </ul> <p>model stability- For large datasets sample 100\u2013500 rows for SHAP summaries</p> <ul> <li> <p><code>plot_precision_recall_curve()</code> \u2014 useful for imbalanced datasets- Focus on the positive class for binary classification (Survived=1)</p> </li> <li> <p><code>plot_model_comparison()</code> \u2014 horizontal bar chart of model scores- Use TreeExplainer for tree-based models</p> </li> </ul>"},{"location":"explanations/advanced-features/#production-notesexample","title":"Production notesExample:","text":"<ul> <li>Use <code>titanic_ml/pipeline/train_pipeline.py</code> for production training to ensure```python</li> </ul> <p>consistent preprocessing and avoid leakageexplainer = shap.TreeExplainer(model)</p> <ul> <li>Serialize pipelines (pickle/ONNX) and store under <code>models/</code>shap_values = explainer.shap_values(X_sample)</li> </ul> <p>shap.summary_plot(shap_values, X_sample)</p>"},{"location":"explanations/advanced-features/#troubleshooting_1","title":"Troubleshooting```","text":"<ul> <li> <p>SHAP memory issues: reduce sample size## Feature Engineering Highlights</p> </li> <li> <p>Feature name mismatches: ensure same feature engineering at train</p> </li> </ul> <p>and inferenceNotebook-derived engineered features used in the pipeline:</p> <ul> <li> <p>Pickling errors: define classes at module level</p> </li> <li> <p><code>cabin_multiple</code> \u2014 number of cabins</p> </li> </ul> <p>---- <code>name_title</code> \u2014 extracted title from passenger name</p> <ul> <li><code>norm_fare</code> \u2014 log- or scaled fare</li> </ul> <p>For more details see the notebook Section 9 (SHAP) and</p> <p><code>titanic_ml/pipeline/train_pipeline.py</code>.Keep transformations reproducible: implement them as transformers in</p> <p>the production <code>Pipeline</code> (see <code>titanic_ml/pipeline/train_pipeline.py</code>).</p>"},{"location":"explanations/advanced-features/#production-notes_2","title":"Production Notes","text":"<ul> <li>Use the pipeline for production training and inference to avoid data   leakage (preprocessing fit only on training data).</li> <li>Serialize pipelines with <code>pickle</code> (or ONNX for cross-platform   serving) and store in <code>models/</code>.</li> </ul>"},{"location":"explanations/advanced-features/#visualizations_1","title":"Visualizations","text":"<ul> <li><code>plot_cv_score_distribution()</code> \u2014 boxplots of CV scores to inspect   stability</li> <li><code>plot_precision_recall_curve()</code> \u2014 preferred for imbalanced datasets</li> <li><code>plot_model_comparison()</code> \u2014 horizontal bar chart of model scores</li> </ul>"},{"location":"explanations/advanced-features/#troubleshooting_2","title":"Troubleshooting","text":"<ul> <li>SHAP memory issues: reduce sample size</li> <li>Feature name mismatches: ensure the same <code>FeatureEngineer</code> is used   during training and inference</li> <li>Pickling errors: avoid local (nested) class definitions</li> </ul>"},{"location":"explanations/advanced-features/#recommended-usage-pattern_1","title":"Recommended Usage Pattern","text":"<p>Use the notebook for exploration and the pipeline module for training and deployment. Keep configuration and constants in <code>notebooks/utils/config.py</code> to avoid hardcoded values in cells.</p> <p>For more details see the notebook Section 9 (SHAP) and <code>titanic_ml/pipeline/train_pipeline.py</code>.</p>"},{"location":"explanations/methodology/","title":"Methodology","text":"<p>This document explains the machine learning approach used in the Titanic Survival Prediction project.</p>"},{"location":"explanations/methodology/#1-data-exploration","title":"1. Data Exploration","text":""},{"location":"explanations/methodology/#initial-dataset-analysis","title":"Initial Dataset Analysis","text":"<p>The Titanic dataset contains 891 training samples with 11 features:</p> <p>Numeric Features: - Age: Passenger age (177 missing values) - SibSp: Number of siblings/spouses aboard - Parch: Number of parents/children aboard - Fare: Ticket price</p> <p>Categorical Features: - Pclass: Ticket class (1<sup>st</sup>, 2<sup>nd</sup>, 3<sup>rd</sup>) - Sex: Gender (male, female) - Embarked: Port of embarkation (C/Q/S, 2 missing values) - Cabin: Cabin number (687 missing values) - Ticket: Ticket number - Name: Passenger name</p> <p>Target Variable: - Survived: 0 (did not survive) or 1 (survived)</p>"},{"location":"explanations/methodology/#key-findings-from-eda","title":"Key Findings from EDA","text":"<ol> <li>Class Imbalance: 62% did not survive vs 38% survived</li> <li>Gender Disparity: ~74% of females survived vs ~19% of males</li> <li>Class Effect: 1<sup>st</sup> class had ~63% survival rate vs 24% in 3<sup>rd</sup> class</li> <li>Age Distribution: Children (&lt;16) had higher survival rates</li> <li>Fare Correlation: Higher fares strongly correlated with survival</li> </ol>"},{"location":"explanations/methodology/#2-feature-engineering","title":"2. Feature Engineering","text":""},{"location":"explanations/methodology/#created-features","title":"Created Features","text":""},{"location":"explanations/methodology/#1-cabin_multiple","title":"1. <code>cabin_multiple</code>","text":"<p><pre><code># Number of cabins a passenger booked\ncabin_multiple = lambda x: 0 if pd.isna(x) else len(x.split(' '))\n</code></pre> Rationale: Multiple cabins might indicate wealth and better access to lifeboats.</p>"},{"location":"explanations/methodology/#2-name_title","title":"2. <code>name_title</code>","text":"<p><pre><code># Extract title from passenger name\nname_title = lambda x: x.split(',')[1].split('.')[0].strip()\n</code></pre> Rationale: Titles (Mr., Mrs., Master, etc.) encode both age and social status.</p> <p>Title Distribution: - Mr: 517 passengers - Miss: 182 passengers - Mrs: 125 passengers - Master: 40 passengers (young boys) - Rare titles: Rev, Dr, Col, etc.</p>"},{"location":"explanations/methodology/#3-norm_fare","title":"3. <code>norm_fare</code>","text":"<p><pre><code># Log normalization of fare\nnorm_fare = np.log(Fare + 1)\n</code></pre> Rationale: Fare is heavily right-skewed; log transformation creates normal distribution.</p>"},{"location":"explanations/methodology/#dropped-features","title":"Dropped Features","text":"<ul> <li>Cabin: 77% missing values, too sparse for reliable imputation</li> <li>Ticket: High cardinality, no clear pattern</li> <li>PassengerId: Just an identifier</li> <li>Name: Information extracted into <code>name_title</code></li> </ul>"},{"location":"explanations/methodology/#3-data-preprocessing","title":"3. Data Preprocessing","text":""},{"location":"explanations/methodology/#missing-value-imputation","title":"Missing Value Imputation","text":"Feature Strategy Rationale Age Median (28 years) Robust to outliers, represents central tendency Fare Median ($14.45) Only 1 missing value in test set Embarked Most frequent (S) Only 2 missing values"},{"location":"explanations/methodology/#feature-scaling","title":"Feature Scaling","text":"<p>StandardScaler applied to numeric features: - Age - SibSp - Parch - norm_fare</p> <p>Formula: <code>z = (x - \u03bc) / \u03c3</code></p> <p>Rationale: - Required for distance-based algorithms (KNN, SVM) - Improves convergence for gradient descent - Prevents feature dominance</p>"},{"location":"explanations/methodology/#encoding-categorical-variables","title":"Encoding Categorical Variables","text":"<p>OneHotEncoding applied to: - Pclass \u2192 Pclass_1, Pclass_2, Pclass_3 - Sex \u2192 Sex_female, Sex_male - Embarked \u2192 Embarked_C, Embarked_Q, Embarked_S - name_title \u2192 name_title_Master, name_title_Miss, etc.</p> <p>Final Feature Count: 40+ features after encoding</p>"},{"location":"explanations/methodology/#4-model-selection","title":"4. Model Selection","text":""},{"location":"explanations/methodology/#baseline-models-evaluated","title":"Baseline Models Evaluated","text":"<ol> <li>Logistic Regression (82.1%)</li> <li>Simple, interpretable baseline</li> <li> <p>Linear decision boundary</p> </li> <li> <p>K-Nearest Neighbors (80.5%)</p> </li> <li>Non-parametric, instance-based</li> <li> <p>Sensitive to scaling (hence preprocessing)</p> </li> <li> <p>Decision Tree (77.6%)</p> </li> <li>Non-linear decision boundaries</li> <li> <p>Prone to overfitting</p> </li> <li> <p>Random Forest (80.6%)</p> </li> <li>Ensemble of decision trees</li> <li> <p>Reduces overfitting through bagging</p> </li> <li> <p>Naive Bayes (72.6%)</p> </li> <li>Probabilistic classifier</li> <li> <p>Assumes feature independence (violated here)</p> </li> <li> <p>Support Vector Classifier (83.2%)</p> </li> <li>Finds optimal hyperplane</li> <li> <p>Kernel trick for non-linearity</p> </li> <li> <p>XGBoost (81.8%)</p> </li> <li>Gradient boosting framework</li> <li> <p>Sequential error correction</p> </li> <li> <p>CatBoost (baseline not run)</p> </li> <li>Handles categorical features natively</li> <li>Robust to overfitting</li> </ol>"},{"location":"explanations/methodology/#model-selection-criteria","title":"Model Selection Criteria","text":"<ul> <li>Primary Metric: Accuracy (Kaggle competition metric)</li> <li>Secondary Metric: Weighted F1-score (better for imbalance)</li> <li>Cross-Validation: 5-fold stratified CV</li> <li>Reproducibility: Fixed random seed (42)</li> </ul>"},{"location":"explanations/methodology/#5-hyperparameter-tuning","title":"5. Hyperparameter Tuning","text":""},{"location":"explanations/methodology/#gridsearchcv-configuration","title":"GridSearchCV Configuration","text":"<pre><code>GridSearchCV(\n    estimator=model,\n    param_grid=parameters,\n    cv=5,  # 5-fold cross-validation\n    scoring='accuracy',\n    n_jobs=-1,  # Use all CPU cores\n    verbose=1\n)\n</code></pre>"},{"location":"explanations/methodology/#tuned-hyperparameters","title":"Tuned Hyperparameters","text":""},{"location":"explanations/methodology/#xgboost-best-performer-853","title":"XGBoost (Best Performer: 85.3%)","text":"<pre><code>{\n    'n_estimators': 550,\n    'learning_rate': 0.5,\n    'max_depth': 10,\n    'colsample_bytree': 0.75,\n    'subsample': 0.6,\n    'gamma': 0.5,\n    'reg_lambda': 10\n}\n</code></pre>"},{"location":"explanations/methodology/#random-forest-836","title":"Random Forest (83.6%)","text":"<pre><code>{\n    'n_estimators': 300,\n    'criterion': 'gini',\n    'max_depth': 15,\n    'max_features': 'sqrt',\n    'min_samples_split': 2,\n    'min_samples_leaf': 1\n}\n</code></pre>"},{"location":"explanations/methodology/#catboost-842","title":"CatBoost (84.2%)","text":"<pre><code>{\n    'iterations': 500,\n    'learning_rate': 0.05,\n    'depth': 6,\n    'l2_leaf_reg': 2,\n    'border_count': 128\n}\n</code></pre>"},{"location":"explanations/methodology/#6-ensemble-methods","title":"6. Ensemble Methods","text":""},{"location":"explanations/methodology/#voting-classifier","title":"Voting Classifier","text":"<p>Combined predictions from multiple models:</p> <p>Hard Voting: Majority vote <pre><code>Prediction = mode([model1_pred, model2_pred, model3_pred])\n</code></pre></p> <p>Soft Voting: Average probabilities <pre><code>Probability = mean([model1_proba, model2_proba, model3_proba])\nPrediction = argmax(Probability)\n</code></pre></p> <p>Best Configuration: - Models: XGBoost, Random Forest, CatBoost - Voting: Soft - Weights: Optimized via GridSearchCV - Performance: 85.1% accuracy</p>"},{"location":"explanations/methodology/#why-ensemble-works","title":"Why Ensemble Works","text":"<ol> <li>Diversity: Different algorithms capture different patterns</li> <li>Bias-Variance Trade-off: Reduces overfitting</li> <li>Robustness: More stable predictions</li> <li>Error Correction: Models compensate for each other's weaknesses</li> </ol>"},{"location":"explanations/methodology/#7-model-evaluation","title":"7. Model Evaluation","text":""},{"location":"explanations/methodology/#metrics-used","title":"Metrics Used","text":"<ol> <li>Accuracy: <code>(TP + TN) / (TP + TN + FP + FN)</code></li> <li>Primary Kaggle metric</li> <li> <p>Overall correctness</p> </li> <li> <p>Weighted F1-Score: Harmonic mean of precision and recall</p> </li> <li>Better for imbalanced classes</li> <li> <p>Accounts for class distribution</p> </li> <li> <p>ROC-AUC: Area under ROC curve</p> </li> <li>Threshold-independent</li> <li> <p>Measures ranking quality</p> </li> <li> <p>Confusion Matrix:</p> </li> <li>True Positives, False Positives</li> <li>True Negatives, False Negatives</li> </ol>"},{"location":"explanations/methodology/#cross-validation-strategy","title":"Cross-Validation Strategy","text":"<p>5-Fold Stratified CV: - Maintains class proportions in each fold - Reduces variance in performance estimates - Detects overfitting</p>"},{"location":"explanations/methodology/#8-feature-importance","title":"8. Feature Importance","text":""},{"location":"explanations/methodology/#top-10-features-xgboost","title":"Top 10 Features (XGBoost)","text":"<ol> <li>norm_fare (0.182): Strongest predictor</li> <li>Sex_male (0.156): Gender critical to survival</li> <li>Age (0.143): \"Women and children first\"</li> <li>name_title_Mr (0.089): Adult male indicator</li> <li>Pclass_3 (0.072): Lower class disadvantage</li> <li>name_title_Mrs (0.058): Married women prioritized</li> <li>SibSp (0.047): Family size effect</li> <li>Pclass_1 (0.041): First class advantage</li> <li>cabin_multiple (0.038): Cabin access</li> <li>Embarked_S (0.032): Port effect</li> </ol>"},{"location":"explanations/methodology/#insights","title":"Insights","text":"<ul> <li>Socioeconomic Status: Fare and class dominate</li> <li>Demographic Factors: Gender and age crucial</li> <li>Social Context: Titles encode multiple signals</li> <li>Feature Engineering: Created features add value</li> </ul>"},{"location":"explanations/methodology/#9-results-kaggle-submission","title":"9. Results &amp; Kaggle Submission","text":""},{"location":"explanations/methodology/#final-model-performance","title":"Final Model Performance","text":"Submission Model CV Accuracy Kaggle Score 01 Voting Baseline 84.5% TBD 02 XGBoost Tuned 85.3% TBD 03 Optimized Ensemble 85.1% TBD"},{"location":"explanations/methodology/#key-takeaways","title":"Key Takeaways","text":"<ol> <li>Feature Engineering Crucial: +2-3% improvement</li> <li>Hyperparameter Tuning Effective: +1-3% per model</li> <li>Ensembles Provide Stability: Consistent performance</li> <li>Data Quality &gt; Model Complexity: Clean preprocessing essential</li> </ol>"},{"location":"explanations/methodology/#10-future-improvements","title":"10. Future Improvements","text":"<p>Potential enhancements:</p> <ol> <li>Advanced Feature Engineering:</li> <li>Family group survival analysis</li> <li>Deck location from cabin</li> <li> <p>Ticket prefix patterns</p> </li> <li> <p>Model Stacking:</p> </li> <li>Meta-learner on top of base models</li> <li> <p>Potentially higher accuracy</p> </li> <li> <p>Neural Networks:</p> </li> <li>TabNet or entity embeddings</li> <li> <p>May capture complex interactions</p> </li> <li> <p>Feature Selection:</p> </li> <li>Recursive feature elimination</li> <li> <p>Reduce overfitting risk</p> </li> <li> <p>External Data:</p> </li> <li>Historical passenger manifests</li> <li>Ship layout information</li> </ol> <p>This methodology represents industry best practices for tabular data classification problems.</p>"},{"location":"guides/advanced-features/","title":"Advanced Feature Engineering","text":"<p>This guide explains the advanced feature engineering implemented in the Titanic ML project.</p>"},{"location":"guides/advanced-features/#overview","title":"Overview","text":"<p>The feature engineering pipeline creates 20+ features from the original 8 Titanic dataset columns. Features are designed to capture complex patterns that improve model accuracy.</p>"},{"location":"guides/advanced-features/#feature-categories","title":"Feature Categories","text":""},{"location":"guides/advanced-features/#1-family-features","title":"1. Family Features","text":"<p>family_size (int) - Total family members aboard: <code>SibSp + Parch + 1</code> - Range: 1-11 - Insight: Families may have coordinated survival strategies</p> <p>is_alone (binary) - Whether passenger traveled alone: <code>1</code> if <code>family_size == 1</code>, else <code>0</code> - Insight: Solo travelers had different survival rates</p> <p>fare_per_person (float) - Normalized fare divided by family size: <code>norm_fare / family_size</code> - Insight: Better indicator of cabin quality than total fare</p>"},{"location":"guides/advanced-features/#2-title-features","title":"2. Title Features","text":"<p>title_grouped (categorical) - Consolidated version of <code>name_title</code> reducing rare titles - Mapping:   - <code>'Mr'</code>, <code>'Don'</code>, <code>'Rev'</code>, <code>'Jonkheer'</code>, <code>'Capt'</code> \u2192 <code>'Mr'</code>   - <code>'Mrs'</code>, <code>'Mme'</code>, <code>'Countess'</code>, <code>'Dona'</code> \u2192 <code>'Mrs'</code>   - <code>'Miss'</code>, <code>'Ms'</code>, <code>'Mlle'</code> \u2192 <code>'Miss'</code>   - <code>'Master'</code> \u2192 <code>'Master'</code>   - All others \u2192 <code>'Rare'</code> - Insight: Reduces dimensionality while preserving social status signal</p>"},{"location":"guides/advanced-features/#3-age-features","title":"3. Age Features","text":"<p>age_group (categorical) - Binned age ranges:   - <code>child</code>: 0-12 years   - <code>teen</code>: 13-18 years   - <code>adult</code>: 19-35 years   - <code>middle_age</code>: 36-60 years   - <code>senior</code>: 61+ years - Insight: Different age groups had different survival priorities</p> <p>age_missing (binary) - Whether age was imputed: <code>1</code> if age was NaN, else <code>0</code> - Insight: Missing age may correlate with passenger characteristics</p> <p>age_class (float) - Interaction: <code>Age \u00d7 Pclass</code> - Insight: Captures combined effect of age and class</p>"},{"location":"guides/advanced-features/#4-fare-features","title":"4. Fare Features","text":"<p>Inferred Fare - For missing fares, inferred from passenger class with family discount - Class-based medians:   - 1<sup>st</sup> class: \u00a384.15   - 2<sup>nd</sup> class: \u00a320.66   - 3<sup>rd</sup> class: \u00a313.68 - Family discount: 10% reduction for <code>family_size &gt; 1</code> - Applied before normalization</p> <p>norm_fare (float) - Log-transformed fare: <code>log(Fare + 1)</code> - Insight: Reduces skewness, stabilizes variance</p> <p>fare_group (categorical) - Quartile-based binning:   - <code>low</code>: &lt; \u00a37.90   - <code>medium</code>: \u00a37.90 - \u00a314.50   - <code>high</code>: \u00a314.50 - \u00a331.00   - <code>very_high</code>: &gt; \u00a331.00 - Insight: Non-linear relationship with survival</p>"},{"location":"guides/advanced-features/#5-cabin-features","title":"5. Cabin Features","text":"<p>cabin_known (binary) - Whether cabin information exists: <code>1</code> if cabin provided, else <code>0</code> - Insight: Cabin data availability correlates with passenger status</p> <p>cabin_deck (categorical) - First letter of cabin (deck identifier): <code>A</code>, <code>B</code>, <code>C</code>, <code>D</code>, <code>E</code>, <code>F</code>, <code>G</code>, <code>T</code>, or <code>Unknown</code> - Insight: Deck location affected evacuation success</p> <p>cabin_multiple (binary) - Whether passenger has multiple cabins: <code>1</code> if multiple, else <code>0</code> - Insight: Indicator of wealth and social status</p>"},{"location":"guides/advanced-features/#6-ticket-features","title":"6. Ticket Features","text":"<p>ticket_prefix (categorical) - Alphabetic prefix from ticket number (e.g., <code>PC</code>, <code>STON</code>, <code>CA</code>) - Defaults to <code>NONE</code> if no prefix - Insight: Ticket types may indicate booking patterns</p> <p>ticket_has_letters (binary) - Whether ticket contains letters: <code>1</code> if yes, else <code>0</code> - Insight: Different ticket formats for different passenger classes</p>"},{"location":"guides/advanced-features/#7-interaction-features","title":"7. Interaction Features","text":"<p>sex_pclass (categorical) - Combination: <code>{sex}_{pclass}</code> (e.g., <code>female_1</code>, <code>male_3</code>) - 6 categories total - Insight: \"Women and children first\" policy varied by class</p>"},{"location":"guides/advanced-features/#usage","title":"Usage","text":""},{"location":"guides/advanced-features/#training-pipeline","title":"Training Pipeline","text":"<pre><code>from src.features.build_features import apply_feature_engineering\n\n# Load raw data\ntrain_df = pd.read_csv('train.csv')\n\n# Apply advanced features\ntrain_df, num_cols, cat_cols = apply_feature_engineering(\n    train_df,\n    include_advanced=True,  # Enable all 14+ advanced features\n    is_training=True        # Training mode (has 'Survived' column)\n)\n\n# num_cols: ['Age', 'SibSp', 'Parch', 'norm_fare', 'family_size', \n#            'is_alone', 'age_missing', 'fare_per_person', 'cabin_known', \n#            'cabin_multiple', 'ticket_has_letters', 'age_class']\n# cat_cols: ['Pclass', 'Sex', 'Embarked', 'name_title', 'title_grouped', \n#            'age_group', 'fare_group', 'cabin_deck', 'sex_pclass', 'ticket_prefix']\n</code></pre>"},{"location":"guides/advanced-features/#prediction-pipeline","title":"Prediction Pipeline","text":"<pre><code>from src.models.predict import CustomData\n\n# User provides basic info\ndata = CustomData(\n    age=29.0,\n    sex='female',\n    pclass='1',\n    sibsp=0,\n    parch=0,\n    embarked='S',\n    cabin_multiple=0,\n    name_title='Mrs'\n)\n\n# get_data_as_dataframe() automatically:\n# - Infers fare from class (\u00a384.15 for 1st class, solo)\n# - Calculates family_size (1)\n# - Determines age_group ('adult')\n# - Creates all advanced features\n</code></pre>"},{"location":"guides/advanced-features/#feature-importance","title":"Feature Importance","text":"<p>Top contributing features (from SHAP analysis):</p> <ol> <li>Sex (female +45%)</li> <li>Pclass (1<sup>st</sup> class +32%)</li> <li>Age (younger +15%)</li> <li>family_size (medium-sized families +12%)</li> <li>fare_per_person (+10%)</li> </ol>"},{"location":"guides/advanced-features/#backward-compatibility","title":"Backward Compatibility","text":"<p>Set <code>include_advanced=False</code> to use only basic features:</p> <pre><code># Basic features only (3 features)\ndf, num_cols, cat_cols = apply_feature_engineering(\n    df,\n    include_advanced=False\n)\n# Returns: cabin_multiple, name_title, norm_fare\n</code></pre>"},{"location":"guides/advanced-features/#performance-impact","title":"Performance Impact","text":"<ul> <li>Accuracy: +4.2% improvement over basic features</li> <li>Preprocessing time: +50ms per 100 samples</li> <li>Model size: +15% (more categories to encode)</li> </ul>"},{"location":"guides/advanced-features/#references","title":"References","text":"<ul> <li>Fare inference: Median by class from training data</li> <li>Age groups: Domain-specific (Titanic child policy at 12 years)</li> <li>Title grouping: Based on frequency analysis (rare titles &lt; 10 occurrences)</li> </ul>"},{"location":"guides/api/","title":"API Reference","text":"<p>Complete API documentation for the Titanic Survival Prediction service.</p>"},{"location":"guides/api/#base-url","title":"Base URL","text":"<ul> <li>Development: <code>http://localhost:8080</code></li> <li>Production: <code>https://titanic-ml-api.azurewebsites.net</code> (if deployed)</li> </ul>"},{"location":"guides/api/#interactive-documentation","title":"Interactive Documentation","text":"<p>Access Swagger UI at: <code>/api/docs</code></p> <p>The interactive documentation allows you to test all API endpoints directly in your browser.</p>"},{"location":"guides/api/#authentication","title":"Authentication","text":"<p>Currently no authentication required. For production deployment, consider adding: - API keys - OAuth 2.0 - Rate limiting</p>"},{"location":"guides/api/#endpoints","title":"Endpoints","text":""},{"location":"guides/api/#1-health-check","title":"1. Health Check","text":"<p><code>GET /health</code></p> <p>Check API and model health status.</p> <p>Response (200 OK): <pre><code>{\n  \"status\": \"healthy\",\n  \"model_loaded\": true,\n  \"preprocessor_loaded\": true,\n  \"version\": \"1.0.0\"\n}\n</code></pre></p> <p>cURL Example: <pre><code>curl -X GET http://localhost:8080/health\n</code></pre></p>"},{"location":"guides/api/#2-prediction","title":"2. Prediction","text":"<p><code>POST /api/predict</code></p> <p>Get survival prediction with confidence score.</p> <p>Request Body: <pre><code>{\n  \"pclass\": 1,\n  \"sex\": \"female\",\n  \"age\": 29.0,\n  \"sibsp\": 0,\n  \"parch\": 0,\n  \"embarked\": \"S\",\n  \"cabin_multiple\": 0,\n  \"name_title\": \"Mrs\"\n}\n</code></pre></p> <p>Parameters:</p> Field Type Required Range/Options Description <code>pclass</code> int \u2705 1, 2, 3 Passenger class <code>sex</code> string \u2705 \"male\", \"female\" Gender <code>age</code> float \u2705 0.0 - 100.0 Age in years <code>sibsp</code> int \u2705 0 - 10 Siblings/spouses aboard <code>parch</code> int \u2705 0 - 10 Parents/children aboard <code>embarked</code> string \u2705 \"S\", \"C\", \"Q\" Embarkation port <code>cabin_multiple</code> int \u274c 0, 1 Has multiple cabins <code>name_title</code> string \u274c \"Mr\", \"Mrs\", \"Miss\", etc. Title from name <p>Response (200 OK): <pre><code>{\n  \"prediction\": 1,\n  \"probability\": 0.87,\n  \"confidence\": \"high\",\n  \"inferred_fare\": 84.15,\n  \"family_size\": 1,\n  \"message\": \"Passenger likely survived with 87% confidence\"\n}\n</code></pre></p> <p>Response Fields:</p> Field Type Description <code>prediction</code> int 0 = Did not survive, 1 = Survived <code>probability</code> float Survival probability (0.0-1.0) <code>confidence</code> string \"low\", \"medium\", \"high\" <code>inferred_fare</code> float Fare inferred from class + family size <code>family_size</code> int Total family members (sibsp + parch + 1) <code>message</code> string Human-readable result <p>Confidence Levels: - High: probability \u2265 0.7 or \u2264 0.3 - Medium: probability \u2265 0.55 or \u2264 0.45 - Low: probability between 0.45-0.55</p> <p>cURL Example: <pre><code>curl -X POST http://localhost:8080/api/predict \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"pclass\": 1,\n    \"sex\": \"female\",\n    \"age\": 29.0,\n    \"sibsp\": 0,\n    \"parch\": 0,\n    \"embarked\": \"S\",\n    \"cabin_multiple\": 0,\n    \"name_title\": \"Mrs\"\n  }'\n</code></pre></p> <p>Python Example: <pre><code>import requests\n\nresponse = requests.post(\n    'http://localhost:8080/api/predict',\n    json={\n        'pclass': 1,\n        'sex': 'female',\n        'age': 29.0,\n        'sibsp': 0,\n        'parch': 0,\n        'embarked': 'S',\n        'cabin_multiple': 0,\n        'name_title': 'Mrs'\n    }\n)\n\nresult = response.json()\nprint(f\"Survived: {result['prediction']}\")\nprint(f\"Probability: {result['probability']:.2%}\")\nprint(f\"Message: {result['message']}\")\n</code></pre></p> <p>Error Responses:</p> <p>400 Bad Request: <pre><code>{\n  \"error\": \"ValidationError\",\n  \"message\": \"Invalid input data\",\n  \"details\": {\n    \"errors\": [\n      {\n        \"loc\": [\"age\"],\n        \"msg\": \"ensure this value is less than or equal to 100.0\",\n        \"type\": \"value_error.number.not_le\"\n      }\n    ]\n  }\n}\n</code></pre></p> <p>500 Internal Server Error: <pre><code>{\n  \"error\": \"PredictionError\",\n  \"message\": \"An error occurred during prediction\",\n  \"details\": {\n    \"exception\": \"Model file not found\"\n  }\n}\n</code></pre></p>"},{"location":"guides/api/#3-shap-explainability","title":"3. SHAP Explainability","text":"<p><code>POST /api/explain</code></p> <p>Generate SHAP explanation plot for model prediction.</p> <p>Request Body: <pre><code>{\n  \"pclass\": 1,\n  \"sex\": \"female\",\n  \"age\": 29.0,\n  \"sibsp\": 0,\n  \"parch\": 0,\n  \"embarked\": \"S\",\n  \"cabin_multiple\": 0,\n  \"name_title\": \"Mrs\",\n  \"plot_type\": \"waterfall\"\n}\n</code></pre></p> <p>Additional Parameter:</p> Field Type Required Options Description <code>plot_type</code> string \u274c \"waterfall\", \"force\", \"bar\" SHAP plot type <p>Plot Types: - waterfall: Shows cumulative contribution of each feature - force: Interactive force plot (horizontal bar) - bar: Feature importance bar chart</p> <p>Response (200 OK): <pre><code>{\n  \"prediction\": 1,\n  \"probability\": 0.87,\n  \"explanation_image_url\": \"/static/images/shap_explanation_20240315_143022.png\",\n  \"top_features\": {\n    \"Sex_female\": 0.45,\n    \"Pclass_1\": 0.32,\n    \"Age\": -0.12,\n    \"family_size\": 0.08,\n    \"fare_per_person\": 0.05\n  },\n  \"base_value\": 0.38\n}\n</code></pre></p> <p>Response Fields:</p> Field Type Description <code>explanation_image_url</code> string Path to generated SHAP plot <code>top_features</code> object Top 5 features with SHAP values <code>base_value</code> float Model's average prediction <p>SHAP Value Interpretation: - Positive: Feature increases survival probability - Negative: Feature decreases survival probability - Magnitude: Strength of feature contribution</p> <p>cURL Example: <pre><code>curl -X POST http://localhost:8080/api/explain \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"pclass\": 1,\n    \"sex\": \"female\",\n    \"age\": 29.0,\n    \"sibsp\": 0,\n    \"parch\": 0,\n    \"embarked\": \"S\",\n    \"plot_type\": \"waterfall\"\n  }'\n</code></pre></p> <p>Python Example with Image Display: <pre><code>import requests\nfrom PIL import Image\nfrom io import BytesIO\n\n# Get explanation\nresponse = requests.post(\n    'http://localhost:8080/api/explain',\n    json={\n        'pclass': 1,\n        'sex': 'female',\n        'age': 29.0,\n        'sibsp': 0,\n        'parch': 0,\n        'embarked': 'S',\n        'plot_type': 'waterfall'\n    }\n)\n\nresult = response.json()\n\n# Download and display image\nimage_url = result['explanation_image_url']\nimg_response = requests.get(f'http://localhost:8080{image_url}')\nimg = Image.open(BytesIO(img_response.content))\nimg.show()\n\n# Print top features\nprint(\"Top Contributing Features:\")\nfor feature, value in result['top_features'].items():\n    direction = \"increases\" if value &gt; 0 else \"decreases\"\n    print(f\"  {feature}: {value:.3f} ({direction} survival)\")\n</code></pre></p> <p>Error Response (500 - SHAP not installed): <pre><code>{\n  \"error\": \"DependencyError\",\n  \"message\": \"SHAP library not installed. Install with: pip install shap\",\n  \"details\": {\n    \"exception\": \"No module named 'shap'\"\n  }\n}\n</code></pre></p>"},{"location":"guides/api/#web-ui-endpoints","title":"Web UI Endpoints","text":""},{"location":"guides/api/#home-page","title":"Home Page","text":"<p><code>GET /</code></p> <p>Renders landing page with project information.</p>"},{"location":"guides/api/#prediction-form","title":"Prediction Form","text":"<p><code>GET /prediction</code></p> <p>Displays HTML form for manual prediction input.</p> <p><code>POST /prediction</code></p> <p>Submits form data (same fields as <code>/api/predict</code>) and shows results on page.</p>"},{"location":"guides/api/#rate-limiting","title":"Rate Limiting","text":"<p>Not currently implemented. For production:</p> <pre><code>from flask_limiter import Limiter\n\nlimiter = Limiter(\n    app,\n    key_func=lambda: request.remote_addr,\n    default_limits=[\"200 per day\", \"50 per hour\"]\n)\n\n@app.route('/api/predict', methods=['POST'])\n@limiter.limit(\"10 per minute\")\ndef api_predict():\n    ...\n</code></pre>"},{"location":"guides/api/#cors","title":"CORS","text":"<p>Not currently enabled. To enable cross-origin requests:</p> <pre><code>from flask_cors import CORS\n\nCORS(app, resources={\n    r\"/api/*\": {\n        \"origins\": [\"https://yourdomain.com\"],\n        \"methods\": [\"GET\", \"POST\"],\n        \"allow_headers\": [\"Content-Type\"]\n    }\n})\n</code></pre>"},{"location":"guides/api/#monitoring","title":"Monitoring","text":"<p>Logging: All requests logged with structured data including: - Timestamp - User IP - Request payload - Prediction results - Errors (with stack traces)</p> <p>Metrics (not implemented): - Request count - Response times - Error rates - Model performance drift</p>"},{"location":"guides/api/#testing","title":"Testing","text":"<p>Test endpoints with pytest:</p> <pre><code>pytest tests/unit/predict_pipeline_test.py -v\n</code></pre> <p>Manual testing: <pre><code># Health check\ncurl http://localhost:8080/health\n\n# Prediction\ncurl -X POST http://localhost:8080/api/predict \\\n  -H \"Content-Type: application/json\" \\\n  -d @tests/fixtures/sample_passenger.json\n\n# Explanation\ncurl -X POST http://localhost:8080/api/explain \\\n  -H \"Content-Type: application/json\" \\\n  -d @tests/fixtures/sample_passenger.json\n</code></pre></p>"},{"location":"guides/api/#openapi-specification","title":"OpenAPI Specification","text":"<p>Full OpenAPI 3.0 specification available at: - File: <code>/static/openapi.yaml</code> - Swagger UI: <code>/api/docs</code></p> <p>Import into Postman, Insomnia, or other API clients for easy testing.</p>"},{"location":"guides/architecture/","title":"Architecture Guide","text":"<p>Understanding the system design of the Titanic Survival Predictor.</p>"},{"location":"guides/architecture/#system-overview","title":"System Overview","text":"<p>The project follows a modular ML pipeline architecture with clear separation of concerns:</p> <pre><code>graph LR\n    A[Raw Data] --&gt; B[Data Loader]\n    B --&gt; C[Feature Engineering]\n    C --&gt; D[Data Transformer]\n    D --&gt; E[Model Trainer]\n    E --&gt; F[Trained Model]\n    F --&gt; G[Prediction Pipeline]\n    G --&gt; H[Flask API]\n    H --&gt; I[User/Client]</code></pre>"},{"location":"guides/architecture/#component-overview","title":"Component Overview","text":""},{"location":"guides/architecture/#1-data-layer-titanic_mldata","title":"1. Data Layer (<code>titanic_ml/data/</code>)","text":"<p>Purpose: Load and manage raw datasets</p> <ul> <li><code>loader.py</code> - Loads Kaggle CSV files, splits train/test</li> <li><code>transformer.py</code> - Creates sklearn preprocessing pipelines</li> </ul> <p>Key Design Decisions: - Use pathlib for cross-platform compatibility - Store processed data in <code>artifacts/</code> for reproducibility - Separate loading from transformation for flexibility</p>"},{"location":"guides/architecture/#2-feature-layer-titanic_mlfeatures","title":"2. Feature Layer (<code>titanic_ml/features/</code>)","text":"<p>Purpose: Domain-specific feature engineering</p> <ul> <li><code>build_features.py</code> - Creates derived features</li> </ul> <p>Features Created: - <code>cabin_multiple</code> - Number of cabins (wealth indicator) - <code>name_title</code> - Extracted title (social status) - <code>norm_fare</code> - Log-normalized fare (handles skewness)</p> <p>Why separate from transformation? - Feature logic is business/domain specific - Transformations are generic sklearn operations - Easier to test and modify independently</p>"},{"location":"guides/architecture/#3-model-layer-titanic_mlmodels","title":"3. Model Layer (<code>titanic_ml/models/</code>)","text":"<p>Purpose: Model training and inference</p> <ul> <li><code>train.py</code> - Trains multiple models with GridSearchCV</li> <li><code>predict.py</code> - Inference pipeline with preprocessing</li> </ul> <p>Key Features: - Model selection via cross-validation - Hyperparameter tuning - Ensemble methods (VotingClassifier) - Model versioning and serialization</p>"},{"location":"guides/architecture/#4-api-layer-titanic_mlapp","title":"4. API Layer (<code>titanic_ml/app/</code>)","text":"<p>Purpose: Serve predictions via web interface</p> <ul> <li><code>routes.py</code> - Flask endpoints and form handling</li> </ul> <p>Endpoints: - <code>/</code> - Landing page - <code>/prediction</code> - Prediction form and results - <code>/health</code> - Health check for monitoring</p>"},{"location":"guides/architecture/#5-utilities-titanic_mlutils","title":"5. Utilities (<code>titanic_ml/utils/</code>)","text":"<p>Common functionality shared across components</p> <ul> <li><code>logger.py</code> - Azure-ready structured logging</li> <li><code>exception.py</code> - Custom exception handling</li> <li><code>helpers.py</code> - Model persistence, evaluation</li> </ul>"},{"location":"guides/architecture/#data-flow","title":"Data Flow","text":""},{"location":"guides/architecture/#training-pipeline","title":"Training Pipeline","text":"<pre><code># 1. Load raw data\nloader = DataLoader()\ntrain_path, test_path = loader.load_data()\n\n# 2. Engineer features\ntrain_df, num_cols, cat_cols = apply_feature_engineering(train_df)\n\n# 3. Create preprocessor\ntransformer = DataTransformer()\nX_train, y_train, X_test, y_test, preprocessor = transformer.transform_data(\n    train_path, test_path\n)\n\n# 4. Train models\ntrainer = ModelTrainer()\nbest_model, score = trainer.train(X_train, y_train, X_test, y_test)\n\n# Models saved to: models/model.pkl, models/preprocessor.pkl\n</code></pre>"},{"location":"guides/architecture/#prediction-pipeline","title":"Prediction Pipeline","text":"<pre><code># 1. Create input data\ncustom_data = CustomData(age=25, sex='female', ...)\n\n# 2. Load pipeline\npipeline = PredictPipeline()\n\n# 3. Make prediction\npredictions, probabilities = pipeline.predict(\n    custom_data.get_data_as_dataframe()\n)\n</code></pre>"},{"location":"guides/architecture/#design-patterns","title":"Design Patterns","text":""},{"location":"guides/architecture/#1-pipeline-pattern","title":"1. Pipeline Pattern","text":"<p>Used in: Data transformation and model training</p> <pre><code>num_pipeline = Pipeline([\n    (\"imputer\", SimpleImputer(strategy=\"median\")),\n    (\"scaler\", StandardScaler())\n])\n</code></pre> <p>Benefits: - Composable transformations - Prevents data leakage - Easy to serialize and deploy</p>"},{"location":"guides/architecture/#2-factory-pattern","title":"2. Factory Pattern","text":"<p>Used in: Model creation</p> <pre><code>def get_models(self) -&gt; Dict[str, Any]:\n    return {\n        'Logistic Regression': LogisticRegression(...),\n        'Random Forest': RandomForestClassifier(...),\n        ...\n    }\n</code></pre> <p>Benefits: - Centralized model configuration - Easy to add/remove models - Consistent interface</p>"},{"location":"guides/architecture/#3-dependency-injection","title":"3. Dependency Injection","text":"<p>Used in: Configurable paths</p> <pre><code>class ModelTrainer:\n    def __init__(self, model_path: Optional[Path] = None):\n        self.model_path = model_path or MODEL_PATH\n</code></pre> <p>Benefits: - Testable without file I/O - Flexible configuration - Supports different environments</p>"},{"location":"guides/architecture/#configuration-management","title":"Configuration Management","text":"<p>All configuration centralized in <code>titanic_ml/config/settings.py</code>:</p> <pre><code># Paths\nPROJECT_ROOT = Path(__file__).parent.parent.parent\nDATA_DIR = PROJECT_ROOT / \"data\"\nMODEL_PATH = PROJECT_ROOT / \"models\" / \"model.pkl\"\n\n# Model settings\nCV_FOLDS = 5\nRANDOM_STATE = 42\n\n# Features\nNUMERICAL_FEATURES = ['Age', 'SibSp', ...]\nCATEGORICAL_FEATURES = ['Pclass', 'Sex', ...]\n</code></pre> <p>Benefits: - Single source of truth - Easy to modify - Environment-specific configs</p>"},{"location":"guides/architecture/#error-handling","title":"Error Handling","text":"<p>Custom exception class with logging integration:</p> <pre><code>try:\n    result = risky_operation()\nexcept Exception as e:\n    logging.error(f\"Operation failed: {e}\")\n    raise CustomException(e, sys)\n</code></pre> <p>Features: - Preserves stack trace - Structured logging - Centralized error handling</p>"},{"location":"guides/architecture/#logging-strategy","title":"Logging Strategy","text":""},{"location":"guides/architecture/#structured-logging","title":"Structured Logging","text":"<pre><code>logging.info(\n    \"Prediction completed\",\n    extra={'extra_fields': {\n        'prediction': int(prediction),\n        'probability': float(probability),\n        'user_ip': request.remote_addr\n    }}\n)\n</code></pre> <p>Benefits: - Queryable in Azure Application Insights - Easy to filter and aggregate - Production monitoring ready</p>"},{"location":"guides/architecture/#log-levels","title":"Log Levels","text":"<ul> <li>DEBUG: Development debugging</li> <li>INFO: Normal operations, request tracking</li> <li>WARNING: Degraded functionality</li> <li>ERROR: Failures requiring attention</li> </ul>"},{"location":"guides/architecture/#testing-strategy","title":"Testing Strategy","text":""},{"location":"guides/architecture/#unit-tests","title":"Unit Tests","text":"<p>Test individual functions in isolation:</p> <pre><code>def test_cabin_multiple_creation():\n    df = pd.DataFrame({'Cabin': ['A1', 'B1 B2', np.nan]})\n    result = apply_feature_engineering(df)\n    assert result['cabin_multiple'].tolist() == [1, 2, 0]\n</code></pre>"},{"location":"guides/architecture/#integration-tests","title":"Integration Tests","text":"<p>Test component interactions:</p> <pre><code>def test_end_to_end_prediction():\n    # Test full pipeline from input to prediction\n    pass\n</code></pre>"},{"location":"guides/architecture/#deployment-architecture","title":"Deployment Architecture","text":""},{"location":"guides/architecture/#local-development","title":"Local Development","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Developer  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Flask App  \u2502 (localhost:5000)\n\u2502  + Models   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guides/architecture/#docker-container","title":"Docker Container","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Docker Container          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502  \u2502  Flask App  \u2502            \u2502\n\u2502  \u2502  + Models   \u2502            \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2502         \u2502                   \u2502\n\u2502    Port 5000                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502\n          \u25bc\n     User Request\n</code></pre>"},{"location":"guides/architecture/#cloud-deployment-renderazure","title":"Cloud Deployment (Render/Azure)","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   GitHub    \u2502\n\u2502  Repository \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502 Push\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 GitHub Actions  \u2502 Build Docker Image\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Docker Hub /   \u2502\n\u2502      ACR        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Render/Azure   \u2502 Auto-deploy\n\u2502   Web Service   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n   Public URL\n</code></pre>"},{"location":"guides/architecture/#scalability-considerations","title":"Scalability Considerations","text":""},{"location":"guides/architecture/#current-limitations","title":"Current Limitations","text":"<ul> <li>Single instance: No load balancing</li> <li>In-memory models: ~1GB RAM per instance</li> <li>Synchronous API: Blocks on long requests</li> </ul>"},{"location":"guides/architecture/#scaling-options","title":"Scaling Options","text":""},{"location":"guides/architecture/#horizontal-scaling","title":"Horizontal Scaling","text":"<pre><code># docker-compose.yml\nservices:\n  web:\n    image: titanic-ml\n    deploy:\n      replicas: 3\n  nginx:\n    image: nginx\n    # Load balancer config\n</code></pre>"},{"location":"guides/architecture/#model-as-service","title":"Model as Service","text":"<p>Separate model serving:</p> <pre><code># Option 1: TensorFlow Serving\n# Option 2: ONNX Runtime\n# Option 3: Dedicated prediction service\n</code></pre>"},{"location":"guides/architecture/#caching","title":"Caching","text":"<p>Add Redis for frequent predictions:</p> <pre><code>@cache.memoize(timeout=300)\ndef predict(features):\n    return model.predict(features)\n</code></pre>"},{"location":"guides/architecture/#security-considerations","title":"Security Considerations","text":""},{"location":"guides/architecture/#current-implementation","title":"Current Implementation","text":"<p>\u2705 Input validation (type checking) \u2705 No SQL injection (no database) \u2705 HTTPS in production (via platform) \u274c No authentication \u274c No rate limiting \u274c No input sanitization</p>"},{"location":"guides/architecture/#recommended-enhancements","title":"Recommended Enhancements","text":"<ol> <li>Add authentication: JWT tokens or API keys</li> <li>Rate limiting: Flask-Limiter</li> <li>Input validation: Pydantic schemas</li> <li>CORS: Restrict allowed origins</li> <li>Security headers: Flask-Talisman</li> </ol>"},{"location":"guides/architecture/#performance-optimization","title":"Performance Optimization","text":""},{"location":"guides/architecture/#current-performance","title":"Current Performance","text":"<ul> <li>Model loading: ~2-3s (startup)</li> <li>Prediction: ~10-50ms per request</li> <li>Memory: ~1GB (with models loaded)</li> </ul>"},{"location":"guides/architecture/#optimization-opportunities","title":"Optimization Opportunities","text":"<ol> <li>Model Quantization: Reduce model size</li> <li>Batch Predictions: Process multiple at once</li> <li>Model Caching: Keep in memory</li> <li>Async Predictions: Use celery for long tasks</li> </ol>"},{"location":"guides/architecture/#technology-choices","title":"Technology Choices","text":""},{"location":"guides/architecture/#why-flask","title":"Why Flask?","text":"<ul> <li>\u2705 Lightweight and simple</li> <li>\u2705 Easy to deploy</li> <li>\u2705 Good for MVP</li> <li>\u274c Not async by default</li> <li>\u274c Less features than FastAPI</li> </ul> <p>Alternative: FastAPI for production scale</p>"},{"location":"guides/architecture/#why-sklearn","title":"Why sklearn?","text":"<ul> <li>\u2705 Industry standard</li> <li>\u2705 Excellent documentation</li> <li>\u2705 Easy model persistence</li> <li>\u2705 Compatible with most ML algorithms</li> </ul>"},{"location":"guides/architecture/#why-docker","title":"Why Docker?","text":"<ul> <li>\u2705 Consistent environments</li> <li>\u2705 Easy deployment</li> <li>\u2705 Platform agnostic</li> <li>\u2705 Resource isolation</li> </ul>"},{"location":"guides/architecture/#future-improvements","title":"Future Improvements","text":"<p>Potential enhancements for production deployments:</p> <ol> <li>Model Monitoring - Track model performance and drift detection</li> <li>Model Versioning - Implement versioning system for model rollbacks</li> <li>A/B Testing - Framework for testing different model versions</li> <li>Explainability Dashboard - Interactive SHAP visualization dashboard</li> <li>Extended Test Coverage - Expand test suite for edge cases</li> </ol>"},{"location":"guides/architecture/#diagram-full-system","title":"Diagram: Full System","text":"<pre><code>graph TB\n    subgraph \"Data Layer\"\n        A[Raw CSV] --&gt; B[Data Loader]\n        B --&gt; C[Feature Engineering]\n        C --&gt; D[Data Transformer]\n    end\n\n    subgraph \"Model Layer\"\n        D --&gt; E[Model Trainer]\n        E --&gt; F[Model Registry]\n        F --&gt; G[Trained Models]\n    end\n\n    subgraph \"API Layer\"\n        G --&gt; H[Prediction Pipeline]\n        H --&gt; I[Flask Routes]\n        I --&gt; J[Web UI]\n    end\n\n    subgraph \"Infrastructure\"\n        J --&gt; K[Docker Container]\n        K --&gt; L[Render/Azure]\n        L --&gt; M[Users]\n    end</code></pre>"},{"location":"guides/architecture/#questions","title":"Questions?","text":"<ul> <li>Review API Reference</li> <li>Check Deployment Guide</li> <li>Open an issue on GitHub</li> </ul>"},{"location":"guides/configuration/","title":"Configuration Guide","text":"<p>This project uses Pydantic Settings for type-safe, environment-based configuration - the modern standard for Python applications deployed to cloud platforms.</p>"},{"location":"guides/configuration/#quick-start","title":"Quick Start","text":""},{"location":"guides/configuration/#1-create-env-file","title":"1. Create <code>.env</code> File","text":"<pre><code>cp .env.example .env\n</code></pre>"},{"location":"guides/configuration/#2-configure-settings","title":"2. Configure Settings","text":"<p>Edit <code>.env</code> for local development or set environment variables in Azure:</p> <pre><code># Application\nENVIRONMENT=\"development\"\nLOG_LEVEL=\"INFO\"\n\n# Flask API\nFLASK_HOST=\"0.0.0.0\"\nFLASK_PORT=5000\nFLASK_DEBUG=false\n\n# Model Training\nRANDOM_STATE=42\nCV_FOLDS=5\n</code></pre>"},{"location":"guides/configuration/#3-run-the-application","title":"3. Run the Application","text":"<pre><code>uv run python app.py\n</code></pre> <p>Settings automatically load from <code>.env</code> or environment variables.</p>"},{"location":"guides/configuration/#configuration-options","title":"Configuration Options","text":""},{"location":"guides/configuration/#application-settings","title":"Application Settings","text":"Variable Default Description <code>APP_NAME</code> \"Titanic Survival Prediction API\" Application name <code>ENVIRONMENT</code> <code>development</code> Environment: development/staging/production <code>LOG_LEVEL</code> <code>INFO</code> DEBUG, INFO, WARNING, ERROR, CRITICAL"},{"location":"guides/configuration/#flask-api","title":"Flask API","text":"Variable Default Description <code>FLASK_HOST</code> <code>0.0.0.0</code> Host address (0.0.0.0 for containers) <code>FLASK_PORT</code> <code>5000</code> Port number <code>FLASK_DEBUG</code> <code>false</code> Enable debug mode (disable in production)"},{"location":"guides/configuration/#model-configuration","title":"Model Configuration","text":"Variable Default Description <code>RANDOM_STATE</code> <code>42</code> Random seed for reproducibility <code>TEST_SIZE</code> <code>0.2</code> Train/test split ratio <code>CV_FOLDS</code> <code>5</code> Cross-validation folds <code>SCORING_METRIC</code> <code>f1_weighted</code> Model evaluation metric"},{"location":"guides/configuration/#using-configuration-in-code","title":"Using Configuration in Code","text":""},{"location":"guides/configuration/#type-safe-access","title":"Type-Safe Access","text":"<pre><code>from src.config.settings import get_settings\n\nsettings = get_settings()\n\n# Type-safe access\nprint(settings.flask_host)      # str\nprint(settings.random_state)    # int\nprint(settings.flask_debug)     # bool\n\n# Computed paths\nmodel_path = settings.model_path\ndata_dir = settings.data_dir\n</code></pre>"},{"location":"guides/configuration/#legacy-constants","title":"Legacy Constants","text":"<p>For backward compatibility, legacy constants are still available:</p> <pre><code>from src.config.settings import MODEL_PATH, FLASK_HOST, RANDOM_STATE\n</code></pre>"},{"location":"guides/configuration/#cloud-deployment","title":"Cloud Deployment","text":""},{"location":"guides/configuration/#azure-app-service","title":"Azure App Service","text":"<p>Configure via Azure Portal or CLI:</p> <pre><code>az webapp config appsettings set \\\n  --name myapp --resource-group mygroup \\\n  --settings LOG_LEVEL=\"INFO\" ENVIRONMENT=\"production\"\n</code></pre>"},{"location":"guides/configuration/#docker","title":"Docker","text":"<p>Using .env file:</p> <pre><code>docker run --env-file .env -p 5000:5000 titanic-ml\n</code></pre> <p>Using environment variables:</p> <pre><code>docker run -e LOG_LEVEL=\"INFO\" -e FLASK_DEBUG=\"false\" -p 5000:5000 titanic-ml\n</code></pre>"},{"location":"guides/configuration/#validation","title":"Validation","text":"<p>Pydantic automatically validates configuration at startup:</p> <pre><code># Invalid log level\nLOG_LEVEL=\"INVALID\"\n# \u274c Error: Invalid log level. Must be one of: DEBUG, INFO, WARNING, ERROR, CRITICAL\n\n# Invalid port number\nFLASK_PORT=\"not_a_number\"\n# \u274c Error: Input should be a valid integer\n</code></pre>"},{"location":"guides/configuration/#benefits","title":"Benefits","text":"<ul> <li>\u2705 Type-safe - Automatic validation and type checking</li> <li>\u2705 Environment-aware - Different configs for dev/staging/prod</li> <li>\u2705 Cloud-friendly - Works with Azure, AWS, GCP</li> <li>\u2705 Fail-fast - Invalid configs caught at startup</li> <li>\u2705 Self-documenting - Type hints and field descriptions</li> </ul> <p>See <code>.env.example</code> for all available options.</p>"},{"location":"guides/deployment/","title":"Deployment Guide","text":"<p>This guide covers deploying the Titanic Survival Predictor to various platforms.</p>"},{"location":"guides/deployment/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Local Development</li> <li>Docker Deployment</li> <li>Render Deployment</li> <li>Azure Deployment</li> <li>Environment Variables</li> <li>CI/CD Setup</li> </ul>"},{"location":"guides/deployment/#local-development","title":"Local Development","text":""},{"location":"guides/deployment/#quick-start","title":"Quick Start","text":"<pre><code># Install dependencies\nuv sync\n\n# Run the Flask app\npython app.py\n\n# Access at http://localhost:5000\n</code></pre>"},{"location":"guides/deployment/#development-mode","title":"Development Mode","text":"<p>Enable auto-reload for development:</p> <pre><code># In app.py\napp.run(host='0.0.0.0', port=5000, debug=True)\n</code></pre> <p>Debug Mode</p> <p>Never enable debug mode in production! It exposes sensitive information and security vulnerabilities.</p>"},{"location":"guides/deployment/#docker-deployment","title":"Docker Deployment","text":""},{"location":"guides/deployment/#build-the-image","title":"Build the Image","text":"<pre><code>docker build -t titanic-survival-predictor:latest .\n</code></pre>"},{"location":"guides/deployment/#run-locally","title":"Run Locally","text":"<pre><code># Basic run\ndocker run -p 5000:5000 titanic-survival-predictor:latest\n\n# Run with persistent models\ndocker run -p 5000:5000 \\\n  -v $(pwd)/models:/app/models \\\n  titanic-survival-predictor:latest\n\n# Run in background\ndocker run -d -p 5000:5000 --name titanic-predictor titanic-survival-predictor:latest\n</code></pre>"},{"location":"guides/deployment/#using-docker-compose","title":"Using Docker Compose","text":"<p>Create <code>docker-compose.yml</code>:</p> <pre><code>version: '3.8'\n\nservices:\n  web:\n    build: .\n    ports:\n      - \"5000:5000\"\n    volumes:\n      - ./models:/app/models\n      - ./logs:/app/logs\n    environment:\n      - FLASK_ENV=production\n      - PORT=5000\n    restart: unless-stopped\n</code></pre> <p>Run with:</p> <pre><code>docker-compose up -d\n</code></pre>"},{"location":"guides/deployment/#render-deployment","title":"Render Deployment","text":"<p>Render offers free hosting with automatic deployments and is an excellent platform for portfolio projects.</p> <p>Live Demo: \ud83d\udd17 Titanic Survival Predictor on Render</p>"},{"location":"guides/deployment/#prerequisites","title":"Prerequisites","text":"<ol> <li>Render account (free)</li> <li>Docker Hub account</li> <li>GitHub repository connected</li> </ol>"},{"location":"guides/deployment/#step-1-configure-docker-hub","title":"Step 1: Configure Docker Hub","text":"<p>Add these GitHub secrets: - <code>DOCKERHUB_USERNAME</code> - Your Docker Hub username - <code>DOCKERHUB_TOKEN</code> - Access token from Docker Hub</p>"},{"location":"guides/deployment/#step-2-create-render-service","title":"Step 2: Create Render Service","text":"<ol> <li>Go to Render Dashboard \u2192 \"New +\" \u2192 \"Web Service\"</li> <li>Select \"Deploy an existing image from a registry\"</li> <li>Configure:</li> <li>Image URL: <code>docker.io/yourusername/titanic-survival-predictor:latest</code></li> <li>Name: <code>titanic-survival-predictor</code></li> <li>Region: Choose closest to your users</li> <li> <p>Plan: Free (or Starter for better performance)</p> </li> <li> <p>Add environment variables:    <pre><code>PORT=5000\nPYTHON_VERSION=3.11\n</code></pre></p> </li> <li> <p>Set Health Check Path: <code>/health</code></p> </li> <li> <p>Click \"Create Web Service\"</p> </li> </ol>"},{"location":"guides/deployment/#step-3-automatic-deployments","title":"Step 3: Automatic Deployments","text":"<p>The provided <code>.github/workflows/deploy-render.yml</code> automatically: 1. Builds Docker image on push to <code>main</code> 2. Pushes to Docker Hub 3. Render auto-deploys new images</p>"},{"location":"guides/deployment/#accessing-your-app","title":"Accessing Your App","text":"<p>Your API will be at: <code>https://titanic-survival-predictor-eymq.onrender.com</code></p> <p>Example requests:</p> <pre><code># Health check\ncurl https://titanic-survival-predictor-eymq.onrender.com/health\n\n# Make a prediction\ncurl -X POST https://titanic-survival-predictor-eymq.onrender.com/predict \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"PassengerId\": 892,\n    \"Pclass\": 3,\n    \"Name\": \"Kelly, Mr. James\",\n    \"Sex\": \"male\",\n    \"Age\": 34.5,\n    \"SibSp\": 0,\n    \"Parch\": 0,\n    \"Ticket\": \"330911\",\n    \"Fare\": 7.75,\n    \"Cabin\": null,\n    \"Embarked\": \"Q\"\n  }'\n</code></pre> <p>Free Tier Limitations</p> <p>Free tier apps sleep after 15 minutes of inactivity. First request may take 30-60 seconds to wake up.</p>"},{"location":"guides/deployment/#azure-deployment","title":"Azure Deployment","text":""},{"location":"guides/deployment/#prerequisites_1","title":"Prerequisites","text":"<ul> <li>Azure account</li> <li>Azure CLI installed</li> <li>Docker Hub account (optional)</li> </ul>"},{"location":"guides/deployment/#option-1-azure-container-instances-recommended","title":"Option 1: Azure Container Instances (Recommended)","text":"<p>Simplest option for small-scale deployment:</p> <pre><code># Login to Azure\naz login\n\n# Create resource group\naz group create --name titanic-rg --location eastus\n\n# Create container instance\naz container create \\\n  --resource-group titanic-rg \\\n  --name titanic-predictor \\\n  --image yourusername/titanic-survival-predictor:latest \\\n  --dns-name-label titanic-predictor-unique \\\n  --ports 5000 \\\n  --cpu 1 \\\n  --memory 2\n\n# Get the URL\naz container show \\\n  --resource-group titanic-rg \\\n  --name titanic-predictor \\\n  --query ipAddress.fqdn\n</code></pre>"},{"location":"guides/deployment/#option-2-azure-app-service","title":"Option 2: Azure App Service","text":"<p>Better for production with scaling capabilities:</p> <pre><code># Create App Service plan\naz appservice plan create \\\n  --name titanic-plan \\\n  --resource-group titanic-rg \\\n  --sku B1 \\\n  --is-linux\n\n# Create web app\naz webapp create \\\n  --resource-group titanic-rg \\\n  --plan titanic-plan \\\n  --name titanic-survival-app \\\n  --deployment-container-image-name yourusername/titanic-ml:latest\n\n# Configure port\naz webapp config appsettings set \\\n  --resource-group titanic-rg \\\n  --name titanic-survival-app \\\n  --settings WEBSITES_PORT=5000\n</code></pre>"},{"location":"guides/deployment/#monitoring","title":"Monitoring","text":"<pre><code># Stream logs\naz webapp log tail \\\n  --resource-group titanic-rg \\\n  --name titanic-survival-app\n\n# Restart app\naz webapp restart \\\n  --resource-group titanic-rg \\\n  --name titanic-survival-app\n</code></pre>"},{"location":"guides/deployment/#environment-variables","title":"Environment Variables","text":""},{"location":"guides/deployment/#required-variables","title":"Required Variables","text":"Variable Description Default <code>PORT</code> Application port <code>5000</code> <code>FLASK_ENV</code> Environment (development/production) <code>production</code>"},{"location":"guides/deployment/#optional-variables","title":"Optional Variables","text":"Variable Description Default <code>FLASK_DEBUG</code> Enable debug mode <code>False</code> <code>LOG_LEVEL</code> Logging level <code>INFO</code> <code>MODEL_PATH</code> Path to model file <code>models/model.pkl</code> <code>PREPROCESSOR_PATH</code> Path to preprocessor <code>models/preprocessor.pkl</code>"},{"location":"guides/deployment/#setting-environment-variables","title":"Setting Environment Variables","text":"<p>Docker: <pre><code>docker run -e FLASK_ENV=production -e PORT=5000 titanic-ml\n</code></pre></p> <p>Render: Add in the Render dashboard under \"Environment\" tab</p> <p>Azure: <pre><code>az webapp config appsettings set \\\n  --settings FLASK_ENV=production PORT=5000\n</code></pre></p>"},{"location":"guides/deployment/#cicd-setup","title":"CI/CD Setup","text":"<p>The project includes GitHub Actions workflows for automated deployment.</p>"},{"location":"guides/deployment/#workflow-files","title":"Workflow Files","text":"<ul> <li><code>.github/workflows/ci.yml</code> - Tests and code quality</li> <li><code>.github/workflows/deploy-render.yml</code> - Render deployment</li> <li><code>.github/workflows/deploy-azure.yml</code> - Azure deployment</li> </ul>"},{"location":"guides/deployment/#required-github-secrets","title":"Required GitHub Secrets","text":""},{"location":"guides/deployment/#for-docker-hub-render","title":"For Docker Hub &amp; Render:","text":"<ul> <li><code>DOCKERHUB_USERNAME</code></li> <li><code>DOCKERHUB_TOKEN</code></li> </ul>"},{"location":"guides/deployment/#for-azure","title":"For Azure:","text":"<ul> <li><code>AZURE_CREDENTIALS</code> - Service principal JSON</li> <li><code>AZURE_WEBAPP_NAME</code> - Your app name</li> <li><code>AZURE_REGISTRY_LOGIN_SERVER</code> - ACR server (optional)</li> <li><code>AZURE_REGISTRY_USERNAME</code> - ACR username (optional)</li> <li><code>AZURE_REGISTRY_PASSWORD</code> - ACR password (optional)</li> </ul>"},{"location":"guides/deployment/#creating-azure-service-principal","title":"Creating Azure Service Principal","text":"<pre><code>az ad sp create-for-rbac \\\n  --name \"github-actions-titanic\" \\\n  --sdk-auth \\\n  --role contributor \\\n  --scopes /subscriptions/{subscription-id}/resourceGroups/titanic-rg\n</code></pre> <p>Copy the JSON output to <code>AZURE_CREDENTIALS</code> secret.</p>"},{"location":"guides/deployment/#manual-deployment-trigger","title":"Manual Deployment Trigger","text":"<p>Go to GitHub \u2192 Actions \u2192 Select workflow \u2192 Run workflow</p>"},{"location":"guides/deployment/#performance-tips","title":"Performance Tips","text":""},{"location":"guides/deployment/#for-free-tiers","title":"For Free Tiers","text":"<p>Render Free: - Use health check service to keep awake: cron-job.org - Expect 30-60s cold start</p> <p>Azure Free (F1): - Limited to 60 CPU minutes/day - 1 GB RAM limit - Consider B1 tier ($13/month) for production</p>"},{"location":"guides/deployment/#optimizing-docker-image","title":"Optimizing Docker Image","text":"<p>Current optimizations: - Multi-stage build - Minimal base image (python:3.11-slim) - No unnecessary dependencies - <code>.dockerignore</code> excludes dev files</p> <p>To further optimize: <pre><code># Use alpine for smaller size\nFROM python:3.11-alpine\n\n# Or use distroless for security\nFROM gcr.io/distroless/python3-debian11\n</code></pre></p>"},{"location":"guides/deployment/#model-loading","title":"Model Loading","text":"<p>Models are loaded on startup (~2-3 seconds). For faster response: - Use model caching - Consider model as a service (separate microservice) - Pre-warm container on deployment</p>"},{"location":"guides/deployment/#monitoring-observability","title":"Monitoring &amp; Observability","text":""},{"location":"guides/deployment/#health-check-endpoint","title":"Health Check Endpoint","text":"<pre><code>curl http://your-app-url/health\n</code></pre> <p>Response: <pre><code>{\n  \"status\": \"healthy\",\n  \"service\": \"titanic-ml-api\"\n}\n</code></pre></p>"},{"location":"guides/deployment/#logging","title":"Logging","text":"<p>Logs are sent to: - Local: Console output - Render: Logs tab in dashboard - Azure: Application Insights (if configured)</p>"},{"location":"guides/deployment/#metrics-to-monitor","title":"Metrics to Monitor","text":"<ul> <li>Request rate</li> <li>Response time</li> <li>Error rate (4xx, 5xx)</li> <li>Prediction accuracy (if collecting feedback)</li> <li>Model version in use</li> </ul>"},{"location":"guides/deployment/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/deployment/#application-wont-start","title":"Application Won't Start","text":"<p>Check logs for errors: <pre><code># Docker\ndocker logs titanic-ml\n\n# Render\n# View in dashboard\n\n# Azure\naz webapp log tail --name your-app-name\n</code></pre></p>"},{"location":"guides/deployment/#predictions-failing","title":"Predictions Failing","text":"<ol> <li>Verify model files exist</li> <li>Check input data format</li> <li>Review error logs</li> <li>Test locally first</li> </ol>"},{"location":"guides/deployment/#slow-response-times","title":"Slow Response Times","text":"<ol> <li>Check cold start (Render free tier)</li> <li>Verify sufficient memory (2GB recommended)</li> <li>Optimize model loading</li> <li>Consider caching predictions</li> </ol>"},{"location":"guides/deployment/#port-binding-issues","title":"Port Binding Issues","text":"<p>Ensure PORT environment variable matches: - Dockerfile <code>EXPOSE</code> command - Flask app configuration - Platform settings</p>"},{"location":"guides/deployment/#cost-comparison","title":"Cost Comparison","text":"Platform Free Tier Paid Tier Best For Render \u2705 750 hrs/month $7/mo Quick demos Azure ACI \u274c No free Pay-per-use Simple containers Azure App Service \u2705 Limited (F1) $13/mo (B1) Production apps Railway \u2705 $5 credit Pay-as-you-go Simple projects Fly.io \u2705 Free allowance Pay-as-you-go Global edge"},{"location":"guides/deployment/#security-best-practices","title":"Security Best Practices","text":"<ol> <li>Never commit secrets - Use environment variables</li> <li>Use HTTPS - All platforms provide free SSL</li> <li>Disable debug mode - Set <code>FLASK_DEBUG=False</code></li> <li>Validate inputs - Implement input validation</li> <li>Rate limiting - Prevent abuse</li> <li>Update dependencies - Regular security updates</li> </ol>"},{"location":"guides/deployment/#next-steps","title":"Next Steps","text":"<p>After deployment:</p> <ul> <li> <p> Set Up Monitoring</p> <p>Monitor your app with Render's built-in metrics dashboard and configure alerts for downtime or errors.</p> </li> <li> <p> Custom Domain</p> <p>Add your own domain name through Render's settings or use their subdomain.</p> </li> <li> <p> Scale Your App</p> <p>Upgrade your Render plan for better performance and handle more concurrent requests.</p> </li> <li> <p> Enhance Security</p> <p>Add HTTPS (enabled by default), environment-based secrets, and rate limiting middleware.</p> </li> </ul>"},{"location":"guides/deployment/#support","title":"Support","text":"<p>Need help with deployment?</p> <ul> <li>Review Troubleshooting section above</li> <li>Open an issue on GitHub</li> <li>Email: k.s.bonev@gmail.com</li> </ul>"},{"location":"guides/documentation/","title":"Documentation Guide","text":"<p>This project uses MkDocs with the Material theme to generate documentation from markdown files.</p>"},{"location":"guides/documentation/#quick-reference","title":"Quick Reference","text":""},{"location":"guides/documentation/#view-documentation-locally","title":"View Documentation Locally","text":"<pre><code># Install documentation dependencies\nuv sync --group docs\n\n# Serve docs with live reload\nuv run mkdocs serve\n\n# Use custom port\nuv run mkdocs serve --dev-addr localhost:8001\n</code></pre> <p>Open http://localhost:8001 in your browser. Changes auto-reload!</p>"},{"location":"guides/documentation/#build-static-site","title":"Build Static Site","text":"<pre><code># Build HTML to site/ folder\nuv run mkdocs build\n\n# Clean build\nuv run mkdocs build --clean\n</code></pre>"},{"location":"guides/documentation/#deploy-to-github-pages","title":"Deploy to GitHub Pages","text":"<p>The project has automated deployment via GitHub Actions. Manual deployment:</p> <pre><code>uv run mkdocs gh-deploy\n</code></pre>"},{"location":"guides/documentation/#project-structure","title":"Project Structure","text":"<pre><code>Titanic-Machine-Learning-from-Disaster/\n\u251c\u2500\u2500 docs/                    # Documentation files\n\u2502   \u251c\u2500\u2500 index.md            # Homepage\n\u2502   \u251c\u2500\u2500 guides/             # Getting started guides\n\u2502   \u251c\u2500\u2500 reference/          # API reference\n\u2502   \u251c\u2500\u2500 explanations/       # Methodology &amp; features\n\u2502   \u251c\u2500\u2500 technical/          # Technical details\n\u2502   \u251c\u2500\u2500 stylesheets/        # Custom CSS\n\u2502   \u2514\u2500\u2500 javascripts/        # Custom JS (MathJax)\n\u251c\u2500\u2500 mkdocs.yml              # MkDocs configuration\n\u2514\u2500\u2500 site/                   # Generated HTML (not committed)\n</code></pre>"},{"location":"guides/documentation/#addingediting-documentation","title":"Adding/Editing Documentation","text":""},{"location":"guides/documentation/#edit-existing-pages","title":"Edit Existing Pages","text":"<p>Edit any <code>.md</code> file in <code>docs/</code>. If <code>mkdocs serve</code> is running, changes appear instantly.</p>"},{"location":"guides/documentation/#add-new-pages","title":"Add New Pages","text":"<p>Step 1: Create markdown file:</p> <pre><code>New-Item docs/guides/my-guide.md\n</code></pre> <p>Step 2: Add to <code>mkdocs.yml</code> navigation:</p> <pre><code>nav:\n  - Guides:\n      - My Guide: guides/my-guide.md\n</code></pre> <p>Step 3: Preview with <code>mkdocs serve</code>.</p>"},{"location":"guides/documentation/#markdown-features","title":"Markdown Features","text":""},{"location":"guides/documentation/#admonitions","title":"Admonitions","text":"<pre><code>!!! note\n    This is a note.\n\n!!! warning\n    This is a warning.\n</code></pre>"},{"location":"guides/documentation/#code-blocks","title":"Code Blocks","text":"<pre><code>```python\ndef hello():\n    print(\"Hello\")\n```\n</code></pre>"},{"location":"guides/documentation/#tables","title":"Tables","text":"<pre><code>| Feature | Status |\n|---------|--------|\n| Search  | \u2705     |\n</code></pre>"},{"location":"guides/documentation/#mermaid-diagrams","title":"Mermaid Diagrams","text":"<pre><code>```mermaid\ngraph LR\n    A[Data] --&gt; B[Model]\n```\n</code></pre>"},{"location":"guides/documentation/#custom-styling","title":"Custom Styling","text":"<p>The <code>docs/stylesheets/</code> and <code>docs/javascripts/</code> folders contain:</p> <ul> <li>extra.css - Custom styling for tables, cards, buttons</li> <li>mathjax.js - Mathematical formula rendering (useful for ML docs)</li> </ul> <p>These are referenced in <code>mkdocs.yml</code>:</p> <pre><code>extra_css:\n  - stylesheets/extra.css\n\nextra_javascript:\n  - javascripts/mathjax.js\n</code></pre> <p>Note: These are standard MkDocs Material customizations and should remain.</p>"},{"location":"guides/documentation/#cicd-deployment","title":"CI/CD Deployment","text":"<p>Documentation deploys automatically when you push to <code>main</code> with changes in <code>docs/</code> or <code>mkdocs.yml</code>.</p> <p>See <code>.github/workflows/deploy-docs.yml</code> for configuration.</p>"},{"location":"guides/documentation/#resources","title":"Resources","text":"<ul> <li>MkDocs: https://www.mkdocs.org/</li> <li>Material Theme: https://squidfunk.github.io/mkdocs-material/</li> <li>Live Docs: https://justakris.github.io/Titanic-Machine-Learning-from-Disaster/</li> </ul>"},{"location":"guides/explainability/","title":"Model Explainability with SHAP","text":"<p>This guide explains how SHAP (SHapley Additive exPlanations) is used to interpret model predictions.</p>"},{"location":"guides/explainability/#overview","title":"Overview","text":"<p>SHAP provides game theory-based explanations for individual predictions, answering: - Which features contributed to the prediction? - How much did each feature contribute? - In what direction (increase/decrease survival)?</p>"},{"location":"guides/explainability/#why-shap","title":"Why SHAP?","text":"<p>Advantages: - Model-agnostic: Works with any ML model - Locally accurate: Explains specific predictions - Consistent: Based on Shapley values from game theory - Additive: Feature contributions sum to final prediction</p> <p>Alternatives (not used): - LIME: Less consistent, approximate - Feature importance: Global only, not prediction-specific - Partial dependence plots: Averages, not individual instances</p>"},{"location":"guides/explainability/#implementation","title":"Implementation","text":""},{"location":"guides/explainability/#backend-api-endpoint","title":"Backend (API Endpoint)","text":"<p>The <code>/api/explain</code> endpoint generates SHAP plots:</p> <pre><code>import shap\nimport matplotlib.pyplot as plt\n\n# Load model and preprocessor\nmodel = load_object(MODEL_PATH)\npreprocessor = load_object(PREPROCESSOR_PATH)\n\n# Transform passenger data\nfeatures_transformed = preprocessor.transform(passenger_df)\n\n# Create TreeExplainer (optimized for tree-based models)\nexplainer = shap.TreeExplainer(model)\nshap_values = explainer(features_transformed)\n\n# Generate waterfall plot\nshap.plots.waterfall(shap_values[0], show=False)\nplt.savefig('shap_explanation.png')\n</code></pre>"},{"location":"guides/explainability/#plot-types","title":"Plot Types","text":"<p>1. Waterfall Plot (default) <pre><code>{\n  \"plot_type\": \"waterfall\"\n}\n</code></pre> - Shows cumulative contribution from base value - Best for understanding individual predictions - Visualizes addition/subtraction of feature effects</p> <p>2. Force Plot <pre><code>{\n  \"plot_type\": \"force\"\n}\n</code></pre> - Horizontal bar showing features pushing prediction higher/lower - Red features increase prediction, blue decrease - Interactive in Jupyter notebooks</p> <p>3. Bar Plot <pre><code>{\n  \"plot_type\": \"bar\"\n}\n</code></pre> - Feature importance for single prediction - Shows absolute SHAP values - Easier to read than waterfall for many features</p>"},{"location":"guides/explainability/#interpreting-shap-values","title":"Interpreting SHAP Values","text":""},{"location":"guides/explainability/#base-value","title":"Base Value","text":"<p><code>base_value = 0.38</code></p> <p>The average model output (before looking at features). For binary classification: - Base value \u2248 average survival rate in training data - Starting point before feature contributions</p>"},{"location":"guides/explainability/#shap-values","title":"SHAP Values","text":"<p>Positive SHAP value: Feature increases survival probability</p> <p>Example: <pre><code>{\n  \"Sex_female\": 0.45,\n  \"Pclass_1\": 0.32\n}\n</code></pre> - Being female increases survival by +45% - 1<sup>st</sup> class ticket increases survival by +32%</p> <p>Negative SHAP value: Feature decreases survival probability</p> <p>Example: <pre><code>{\n  \"Age\": -0.12,\n  \"is_alone\": -0.08\n}\n</code></pre> - Older age decreases survival by -12% - Traveling alone decreases survival by -8%</p>"},{"location":"guides/explainability/#final-prediction","title":"Final Prediction","text":"\\[ \\text{Final Prediction} = \\text{Base Value} + \\sum_{i} \\text{SHAP}_i \\] <p>Example: <pre><code>Base Value:        0.38\nSex_female:      + 0.45\nPclass_1:        + 0.32\nAge:             - 0.12\nfamily_size:     + 0.08\nfare_per_person: + 0.05\n(other features) - 0.29\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFinal:             0.87  (87% survival probability)\n</code></pre></p>"},{"location":"guides/explainability/#usage-examples","title":"Usage Examples","text":""},{"location":"guides/explainability/#python-client","title":"Python Client","text":"<pre><code>import requests\nimport matplotlib.pyplot as plt\nfrom PIL import Image\nfrom io import BytesIO\n\n# Request explanation\nresponse = requests.post(\n    'http://localhost:8080/api/explain',\n    json={\n        'pclass': 1,\n        'sex': 'female',\n        'age': 29.0,\n        'sibsp': 0,\n        'parch': 0,\n        'embarked': 'S',\n        'cabin_multiple': 0,\n        'name_title': 'Mrs',\n        'plot_type': 'waterfall'\n    }\n)\n\nresult = response.json()\n\n# Display top features\nprint(\"Top Contributing Features:\")\nfor feature, shap_value in result['top_features'].items():\n    print(f\"  {feature}: {shap_value:+.3f}\")\n\n# Download and display plot\nimg_url = f\"http://localhost:8080{result['explanation_image_url']}\"\nimg_response = requests.get(img_url)\nimg = Image.open(BytesIO(img_response.content))\nimg.show()\n</code></pre>"},{"location":"guides/explainability/#curl","title":"cURL","text":"<pre><code>curl -X POST http://localhost:8080/api/explain \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"pclass\": 3,\n    \"sex\": \"male\",\n    \"age\": 22.0,\n    \"sibsp\": 1,\n    \"parch\": 0,\n    \"embarked\": \"S\",\n    \"cabin_multiple\": 0,\n    \"name_title\": \"Mr\",\n    \"plot_type\": \"waterfall\"\n  }'\n</code></pre>"},{"location":"guides/explainability/#common-patterns","title":"Common Patterns","text":""},{"location":"guides/explainability/#high-survival-70","title":"High Survival (&gt;70%)","text":"<p>Typical contributors: - <code>Sex_female</code>: +0.40 to +0.50 - <code>Pclass_1</code> or <code>Pclass_2</code>: +0.25 to +0.35 - Young <code>Age</code>: +0.10 to +0.20 - <code>family_size</code> (2-4): +0.05 to +0.15</p>"},{"location":"guides/explainability/#low-survival-30","title":"Low Survival (&lt;30%)","text":"<p>Typical contributors: - <code>Sex_male</code>: -0.40 to -0.50 - <code>Pclass_3</code>: -0.25 to -0.35 - <code>is_alone</code>: -0.05 to -0.10 - Large <code>family_size</code> (&gt;5): -0.10 to -0.20</p>"},{"location":"guides/explainability/#uncertain-predictions-40-60","title":"Uncertain Predictions (40-60%)","text":"<ul> <li>Conflicting features (e.g., male + 1<sup>st</sup> class)</li> <li>Missing data (age imputed, cabin unknown)</li> <li>Rare combinations (e.g., child in 3<sup>rd</sup> class)</li> </ul>"},{"location":"guides/explainability/#feature-interactions","title":"Feature Interactions","text":"<p>SHAP captures feature interactions automatically:</p> <p>Example: Young child in 3<sup>rd</sup> class - <code>Age</code> (child): +0.15 (children prioritized) - <code>Pclass_3</code>: -0.30 (low survival rate) - Net effect: -0.15 (depends on other factors)</p> <p>Example: Adult male in 1<sup>st</sup> class - <code>Sex_male</code>: -0.45 (males deprioritized) - <code>Pclass_1</code>: +0.32 (wealth helps) - Net effect: -0.13 (wealth partially compensates)</p>"},{"location":"guides/explainability/#advanced-global-explanations","title":"Advanced: Global Explanations","text":"<p>Generate summary plots for entire dataset:</p> <pre><code>import shap\nimport pandas as pd\n\n# Load data and model\ndf = pd.read_csv('test.csv')\nfeatures = preprocessor.transform(df)\n\n# Calculate SHAP values for all samples\nexplainer = shap.TreeExplainer(model)\nshap_values = explainer(features)\n\n# Summary plot (feature importance)\nshap.summary_plot(shap_values, features, show=False)\nplt.savefig('shap_summary.png')\n\n# Dependence plot (single feature)\nshap.dependence_plot(\n    'Age',\n    shap_values.values,\n    features,\n    show=False\n)\nplt.savefig('shap_age_dependence.png')\n</code></pre>"},{"location":"guides/explainability/#performance-considerations","title":"Performance Considerations","text":"<p>TreeExplainer Complexity: - Time: O(TLD\u00b2) where T=trees, L=leaves, D=depth - Memory: Stores all tree structures</p> <p>Optimization Tips: 1. Cache explainer: Create once, reuse for multiple predictions 2. Batch predictions: Compute SHAP for multiple samples together 3. Limit features: Show only top N features in plots 4. Background data: Use subset of training data (100-1000 samples)</p> <p>Example caching: <pre><code>from functools import lru_cache\n\n@lru_cache(maxsize=1)\ndef get_explainer():\n    model = load_object(MODEL_PATH)\n    return shap.TreeExplainer(model)\n\n# Reuse cached explainer\nexplainer = get_explainer()\nshap_values = explainer(features)\n</code></pre></p>"},{"location":"guides/explainability/#troubleshooting","title":"Troubleshooting","text":"<p>ImportError: No module named 'shap' <pre><code>uv pip install shap\n</code></pre></p> <p>Matplotlib backend error <pre><code>import matplotlib\nmatplotlib.use('Agg')  # Non-interactive backend\n</code></pre></p> <p>Plot not showing <pre><code># Save before showing\nplt.savefig('plot.png', bbox_inches='tight', dpi=150)\nplt.close()  # Clean up memory\n</code></pre></p> <p>SHAP values don't sum to prediction - Check <code>explainer.expected_value</code> (may be array for multi-class) - Ensure using same preprocessing as training - Verify model type (TreeExplainer for tree models only)</p>"},{"location":"guides/explainability/#references","title":"References","text":"<ul> <li>SHAP Documentation</li> <li>NIPS Paper</li> <li>Shapley Values in Game Theory</li> </ul>"},{"location":"guides/explainability/#future-enhancements","title":"Future Enhancements","text":"<ol> <li>Interactive dashboard: Real-time SHAP updates with Plotly/Dash</li> <li>Comparison mode: Explain differences between two predictions</li> <li>Counterfactual analysis: \"What if age was 35 instead of 25?\"</li> <li>Global insights: Pre-computed summary plots for common passenger types</li> </ol>"},{"location":"guides/installation/","title":"Installation Guide","text":"<p>Detailed installation instructions for the Titanic Survival Prediction system.</p>"},{"location":"guides/installation/#system-requirements","title":"System Requirements","text":""},{"location":"guides/installation/#minimum-requirements","title":"Minimum Requirements","text":"<ul> <li>OS: Windows 10/11, macOS 10.15+, or Linux (Ubuntu 20.04+)</li> <li>Python: 3.11 or higher</li> <li>RAM: 2GB minimum (4GB recommended)</li> <li>Disk Space: 2GB for dependencies and models</li> <li>Internet: Required for initial setup</li> </ul>"},{"location":"guides/installation/#recommended-requirements","title":"Recommended Requirements","text":"<ul> <li>RAM: 4GB or more</li> <li>CPU: 4+ cores for faster training</li> <li>SSD: For better I/O performance</li> </ul>"},{"location":"guides/installation/#installation-methods","title":"Installation Methods","text":"<p>Choose the method that best fits your needs:</p> uv (Recommended)pipDocker <p>Fastest method using the modern uv package manager:</p> <pre><code># Install uv if not already installed\ncurl -LsSf https://astral.sh/uv/install.sh | sh  # macOS/Linux\npowershell -c \"irm https://astral.sh/uv/install.ps1 | iex\"  # Windows\n\n# Clone and install\ngit clone https://github.com/JustaKris/Titanic-Machine-Learning-from-Disaster.git\ncd Titanic-Machine-Learning-from-Disaster\nuv sync\n\n# Run\npython app.py\n</code></pre> <p>Traditional method using pip:</p> <pre><code># Clone repository\ngit clone https://github.com/JustaKris/Titanic-Machine-Learning-from-Disaster.git\ncd Titanic-Machine-Learning-from-Disaster\n\n# Create virtual environment\npython -m venv .venv\nsource .venv/bin/activate  # macOS/Linux\n.venv\\Scripts\\activate  # Windows\n\n# Install dependencies\npip install -r requirements.txt\n\n# Run\npython app.py\n</code></pre> <p>No Python installation needed:</p> <pre><code># Clone repository\ngit clone https://github.com/JustaKris/Titanic-Machine-Learning-from-Disaster.git\ncd Titanic-Machine-Learning-from-Disaster\n\n# Build and run\ndocker-compose up\n</code></pre> <p>Access at http://localhost:5000</p>"},{"location":"guides/installation/#detailed-setup","title":"Detailed Setup","text":""},{"location":"guides/installation/#1-install-python","title":"1. Install Python","text":"<p>Windows: - Download from python.org - Check \"Add Python to PATH\" during installation - Verify: <code>python --version</code></p> <p>macOS: <pre><code># Using Homebrew\nbrew install python@3.11\n</code></pre></p> <p>Linux (Ubuntu/Debian): <pre><code>sudo apt update\nsudo apt install python3.11 python3.11-venv python3-pip\n</code></pre></p>"},{"location":"guides/installation/#2-install-git","title":"2. Install Git","text":"<p>Windows: - Download from git-scm.com</p> <p>Linux: <pre><code>sudo apt install git\n</code></pre></p>"},{"location":"guides/installation/#3-clone-repository","title":"3. Clone Repository","text":"<pre><code>```bash\ngit clone https://github.com/JustaKris/Titanic-Machine-Learning-from-Disaster.git\ncd Titanic-Machine-Learning-from-Disaster\n```\n</code></pre>"},{"location":"guides/installation/#4-install-dependencies","title":"4. Install Dependencies","text":""},{"location":"guides/installation/#option-a-using-uv-fastest","title":"Option A: Using uv (Fastest)","text":"<pre><code>```bash\n# Install uv\npip install uv\n\n# Install all dependencies\nuv sync\n\n# Install with optional groups\nuv sync --group dev        # Development tools\nuv sync --group notebooks  # Jupyter support\nuv sync --group docs       # Documentation tools\nuv sync --all-groups       # Everything\n```\n</code></pre>"},{"location":"guides/installation/#option-b-using-pip","title":"Option B: Using pip","text":"<pre><code>```bash\n# Create virtual environment\npython -m venv .venv\n\n# Activate virtual environment\n# Windows PowerShell:\n.venv\\Scripts\\Activate.ps1\n# Windows CMD:\n.venv\\Scripts\\activate.bat\n# macOS/Linux:\nsource .venv/bin/activate\n\n# Upgrade pip\npython -m pip install --upgrade pip\n\n# Install dependencies\npip install -r requirements.txt\n\n# Optional: Install development dependencies\npip install pytest pytest-cov black flake8 mypy\n```\n</code></pre>"},{"location":"guides/installation/#5-verify-installation","title":"5. Verify Installation","text":"<pre><code>```bash\n# Check Python packages\npython -c \"import pandas, numpy, sklearn, xgboost, catboost, flask; print('\u2713 All core packages installed')\"\n\n# Run tests\npytest tests/\n\n# Check Flask app\npython app.py &amp;\ncurl http://localhost:5000/health\n```\n</code></pre>"},{"location":"guides/installation/#post-installation-setup","title":"Post-Installation Setup","text":""},{"location":"guides/installation/#download-pre-trained-models-optional","title":"Download Pre-trained Models (Optional)","text":"<p>If models aren't included in the repository:</p> <pre><code>```bash\n# Download from releases or train your own\npython scripts/run_training.py\n```\n</code></pre> <p>Models will be saved to <code>models/</code> directory.</p>"},{"location":"guides/installation/#configure-environment-optional","title":"Configure Environment (Optional)","text":"<p>Create <code>.env</code> file for custom settings:</p> <pre><code>```bash\n# .env\nFLASK_ENV=development\nFLASK_DEBUG=True\nLOG_LEVEL=DEBUG\nMODEL_PATH=models/custom_model.pkl\n```\n</code></pre>"},{"location":"guides/installation/#development-setup","title":"Development Setup","text":"<p>For contributors and developers:</p>"},{"location":"guides/installation/#1-install-development-dependencies","title":"1. Install Development Dependencies","text":"<pre><code>```bash\nuv sync --all-groups\n```\n</code></pre>"},{"location":"guides/installation/#2-install-pre-commit-hooks","title":"2. Install Pre-commit Hooks","text":"<pre><code>```bash\npip install pre-commit\npre-commit install\n```\n</code></pre>"},{"location":"guides/installation/#3-configure-ide","title":"3. Configure IDE","text":"<p>VS Code (<code>settings.json</code>):     <pre><code>{\n\"python.linting.enabled\": true,\n\"python.linting.flake8Enabled\": true,\n\"python.formatting.provider\": \"black\",\n\"python.testing.pytestEnabled\": true\n}\n</code></pre></p> <p>PyCharm: - File \u2192 Settings \u2192 Tools \u2192 Python Integrated Tools - Set Default test runner to pytest - Set Docstring format to Google</p>"},{"location":"guides/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/installation/#common-issues","title":"Common Issues","text":""},{"location":"guides/installation/#1-uv-command-not-found","title":"1. <code>uv</code> command not found","text":"<pre><code>```bash\n# Reinstall uv\npip install --user --upgrade uv\n\n# Or use full path\npython -m uv sync\n```\n</code></pre>"},{"location":"guides/installation/#2-permission-denied-errors","title":"2. Permission denied errors","text":"<p>Windows: Run as Administrator macOS/Linux: Use <code>sudo</code> or fix permissions:</p> <pre><code>```bash\nsudo chown -R $USER:$USER .\n```\n</code></pre>"},{"location":"guides/installation/#3-ssl-certificate-errors","title":"3. SSL Certificate errors","text":"<pre><code>```bash\n# Upgrade certificates\npip install --upgrade certifi\n```\n</code></pre>"},{"location":"guides/installation/#4-module-not-found-errors","title":"4. Module not found errors","text":"<pre><code>```bash\n# Ensure virtual environment is activated\nwhich python  # Should point to .venv/bin/python\n\n# Reinstall dependencies\npip install --force-reinstall -r requirements.txt\n```\n</code></pre>"},{"location":"guides/installation/#5-port-5000-already-in-use","title":"5. Port 5000 already in use","text":"<pre><code>```bash\n# Find process using port\n# Windows:\nnetstat -ano | findstr :5000\n# macOS/Linux:\nlsof -i :5000\n\n# Kill process or use different port\n# Edit app.py: app.run(port=8000)\n```\n</code></pre>"},{"location":"guides/installation/#platform-specific-notes","title":"Platform-Specific Notes","text":""},{"location":"guides/installation/#windows","title":"Windows","text":"<ul> <li>Use PowerShell or Command Prompt, not Git Bash</li> <li>Some packages require Microsoft C++ Build Tools</li> <li>Install from: https://visualstudio.microsoft.com/visual-cpp-build-tools/</li> </ul>"},{"location":"guides/installation/#macos-apple-silicon","title":"macOS (Apple Silicon)","text":"<pre><code>```bash\n# Use Rosetta for compatibility\narch -x86_64 python -m pip install -r requirements.txt\n```\n</code></pre>"},{"location":"guides/installation/#linux","title":"Linux","text":"<ul> <li> <p>Install system dependencies for NumPy/SciPy:</p> <pre><code>```bash\nsudo apt install python3-dev build-essential libatlas-base-dev\n```\n</code></pre> </li> </ul>"},{"location":"guides/installation/#uninstallation","title":"Uninstallation","text":"<pre><code>```bash\n# Remove virtual environment\nrm -rf .venv  # Unix\nrmdir /s .venv  # Windows\n\n# Remove repository\ncd ..\nrm -rf Titanic-Machine-Learning-from-Disaster\n```\n</code></pre>"},{"location":"guides/installation/#next-steps","title":"Next Steps","text":"<ul> <li> <p> Quick Start</p> <p>Run your first prediction</p> <p> Quick Start Guide</p> </li> <li> <p> Explore Notebook</p> <p>Dive into the analysis with the included Jupyter notebook</p> <p> Open notebooks/Titanic-Machine-Learning-from-Disaster.ipynb</p> </li> <li> <p> API Reference</p> <p>Integrate into your app</p> <p> API Docs</p> </li> </ul>"},{"location":"guides/installation/#need-help","title":"Need Help?","text":"<ul> <li>Review Troubleshooting section</li> <li>Open an issue on GitHub</li> <li>Email: k.s.bonev@gmail.com</li> </ul>"},{"location":"guides/quickstart/","title":"Quick Start Guide","text":"<p>Get the Titanic Survival Prediction system running locally in under 5 minutes.</p>"},{"location":"guides/quickstart/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.11 or higher (download)</li> <li>uv package manager (install guide)</li> <li>Git (download)</li> </ul> <p>Why uv?</p> <p><code>uv</code> is a blazing-fast Python package manager that replaces pip. It's 10-100x faster and handles dependencies more reliably. Learn more</p>"},{"location":"guides/quickstart/#installation","title":"Installation","text":""},{"location":"guides/quickstart/#1-clone-the-repository","title":"1. Clone the Repository","text":"<pre><code>git clone https://github.com/JustaKris/Titanic-Machine-Learning-from-Disaster.git\ncd Titanic-Machine-Learning-from-Disaster\n</code></pre>"},{"location":"guides/quickstart/#2-install-dependencies","title":"2. Install Dependencies","text":"<pre><code># Install all production dependencies\nuv sync\n\n# Or install with optional groups\nuv sync --group dev        # Include development tools\nuv sync --group notebooks  # Include Jupyter support\nuv sync --all-groups       # Include everything\n</code></pre> <p>First-time setup</p> <p>First run will download ~500MB of ML models and dependencies. Subsequent runs are instant.</p>"},{"location":"guides/quickstart/#3-verify-installation","title":"3. Verify Installation","text":"<pre><code># Check Python environment\nuv run python --version\n\n# Verify key packages\nuv run python -c \"import pandas, sklearn, xgboost, catboost; print('\u2713 All packages imported successfully')\"\n</code></pre>"},{"location":"guides/quickstart/#running-the-application","title":"Running the Application","text":""},{"location":"guides/quickstart/#option-1-web-interface-recommended-for-demo","title":"Option 1: Web Interface (Recommended for Demo)","text":"<pre><code>python app.py\n</code></pre> <p>Then open your browser to http://localhost:5000</p> <p>You'll see a form to enter passenger details: - Age - Gender - Passenger Class (1<sup>st</sup>, 2<sup>nd</sup>, 3<sup>rd</sup>) - Number of siblings/spouses - Number of parents/children - Port of embarkation - And more...</p> <p>Click \"Predict Survival\" to get instant predictions with confidence scores!</p>"},{"location":"guides/quickstart/#option-2-jupyter-notebook-recommended-for-analysis","title":"Option 2: Jupyter Notebook (Recommended for Analysis)","text":"<pre><code># Install notebook dependencies (if not already installed)\nuv sync --group notebooks\n\n# Launch JupyterLab\nuv run jupyter lab notebooks/Titanic-Machine-Learning-from-Disaster.ipynb\n</code></pre> <p>The notebook contains: - Complete exploratory data analysis (EDA) - Feature engineering walkthrough - Model comparison and tuning - SHAP explainability analysis - Visualizations and insights</p>"},{"location":"guides/quickstart/#option-3-python-api-recommended-for-integration","title":"Option 3: Python API (Recommended for Integration)","text":"<pre><code>from src.models.predict import PredictPipeline, CustomData\n\n# Create input data\npassenger = CustomData(\n    age=25,\n    sex='female',\n    name_title='Miss',\n    sibsp=1,\n    pclass='1',\n    embarked='C',\n    cabin_multiple=0,\n    parch=0\n)\n\n# Make prediction\npipeline = PredictPipeline()\npredictions, probabilities = pipeline.predict(passenger.get_data_as_dataframe())\n\nprint(f\"Survived: {bool(predictions[0])}\")\nprint(f\"Probability: {probabilities[0]:.2%}\")\n</code></pre>"},{"location":"guides/quickstart/#training-your-own-model","title":"Training Your Own Model","text":""},{"location":"guides/quickstart/#run-the-full-training-pipeline","title":"Run the Full Training Pipeline","text":"<pre><code># Option 1: Using the scripts\npython scripts/run_training.py\n\n# Option 2: Step by step\npython titanic_ml/data/loader.py           # Load and split data\npython titanic_ml/features/build_features.py # Engineer features\npython titanic_ml/data/transformer.py       # Create preprocessor\npython titanic_ml/models/train.py           # Train models\n</code></pre> <p>Trained models are saved to <code>models/</code> directory: - <code>model.pkl</code> - Best performing model - <code>preprocessor.pkl</code> - Feature transformer</p>"},{"location":"guides/quickstart/#customize-training","title":"Customize Training","text":"<p>Edit <code>titanic_ml/config/settings.py</code> to modify:</p> <pre><code># Model training settings\nCV_FOLDS = 5              # Cross-validation folds\nRANDOM_STATE = 42         # Random seed for reproducibility\n\n# Feature engineering\nNUMERICAL_FEATURES = ['Age', 'SibSp', 'Parch', 'norm_fare', 'cabin_multiple']\nCATEGORICAL_FEATURES = ['Pclass', 'Sex', 'Embarked', 'name_title']\n</code></pre>"},{"location":"guides/quickstart/#project-structure","title":"Project Structure","text":"<pre><code>Titanic-Machine-Learning-from-Disaster/\n\u2502\n\u251c\u2500\u2500 notebooks/                      # Jupyter notebooks\n\u2502   \u251c\u2500\u2500 Titanic-Machine-Learning-from-Disaster.ipynb\n\u2502   \u2514\u2500\u2500 utils/                      # Notebook utilities\n\u2502\n\u251c\u2500\u2500 titanic_ml/                            # Source code\n\u2502   \u251c\u2500\u2500 config/                     # Configuration\n\u2502   \u251c\u2500\u2500 data/                       # Data loading\n\u2502   \u251c\u2500\u2500 features/                   # Feature engineering\n\u2502   \u251c\u2500\u2500 models/                     # Training &amp; prediction\n\u2502   \u251c\u2500\u2500 app/                        # Flask web app\n\u2502   \u2514\u2500\u2500 utils/                      # Utilities\n\u2502\n\u251c\u2500\u2500 tests/                          # Test suite\n\u251c\u2500\u2500 models/                         # Trained models\n\u251c\u2500\u2500 artifacts/                      # Processed data\n\u251c\u2500\u2500 static/                         # Web assets\n\u251c\u2500\u2500 templates/                      # HTML templates\n\u2514\u2500\u2500 docs/                           # Documentation\n</code></pre>"},{"location":"guides/quickstart/#testing","title":"Testing","text":"<p>For comprehensive testing information, see the Testing Guide, which covers: - Running unit and integration tests - Code quality checks (Black, isort, flake8, mypy) - Coverage reporting - CI/CD validation</p> <p>Quick test command: <pre><code>uv run pytest --cov=src --cov-report=html\n</code></pre></p>"},{"location":"guides/quickstart/#using-with-docker","title":"Using with Docker","text":""},{"location":"guides/quickstart/#build-the-image","title":"Build the Image","text":"<pre><code>docker build -t titanic-survival-predictor .\n</code></pre>"},{"location":"guides/quickstart/#run-the-container","title":"Run the Container","text":"<pre><code># Basic run\ndocker run -p 5000:5000 titanic-survival-predictor\n\n# Run with volume for models\ndocker run -p 5000:5000 -v $(pwd)/models:/app/models titanic-survival-predictor\n\n# Run in background\ndocker run -d -p 5000:5000 --name titanic-predictor titanic-survival-predictor\n</code></pre>"},{"location":"guides/quickstart/#stop-and-remove","title":"Stop and Remove","text":"<pre><code>docker stop titanic-predictor\ndocker rm titanic-predictor\n</code></pre> <p>See the Deployment Guide for production deployment.</p>"},{"location":"guides/quickstart/#common-issues","title":"Common Issues","text":""},{"location":"guides/quickstart/#uv-not-found","title":"<code>uv</code> not found","text":"<p>Install uv first:</p> <pre><code># macOS/Linux\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Windows\npowershell -c \"irm https://astral.sh/uv/install.ps1 | iex\"\n\n# Or with pip\npip install uv\n</code></pre>"},{"location":"guides/quickstart/#modulenotfounderror","title":"ModuleNotFoundError","text":"<p>Ensure you're in the project directory and have installed dependencies:</p> <pre><code>cd Titanic-Machine-Learning-from-Disaster\nuv sync\n</code></pre>"},{"location":"guides/quickstart/#port-5000-already-in-use","title":"Port 5000 Already in Use","text":"<p>Change the port in <code>app.py</code>:</p> <pre><code># Change this line\napp.run(host='0.0.0.0', port=5000, debug=True)\n\n# To this\napp.run(host='0.0.0.0', port=8000, debug=True)\n</code></pre>"},{"location":"guides/quickstart/#model-files-not-found","title":"Model Files Not Found","text":"<p>Download pre-trained models or train your own:</p> <pre><code># Train models\npython scripts/run_training.py\n\n# Models will be saved to models/ directory\n</code></pre>"},{"location":"guides/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li> <p> Deploy to Cloud</p> <p>Deploy to Render, Azure, or AWS</p> <p> Deployment Guide</p> </li> <li> <p> Explore the Notebook</p> <p>Dive deep into the analysis with the Jupyter notebook</p> <p> Open notebooks/Titanic-Machine-Learning-from-Disaster.ipynb</p> </li> <li> <p> API Integration</p> <p>Integrate predictions into your app</p> <p> API Reference</p> </li> <li> <p> Customize &amp; Extend</p> <p>Add features or improve models</p> <p> Architecture Guide</p> </li> </ul>"},{"location":"guides/quickstart/#need-help","title":"Need Help?","text":"<ul> <li>Read the Architecture Guide</li> <li>Open an issue on GitHub</li> <li>Email: k.s.bonev@gmail.com</li> </ul>"},{"location":"guides/testing/","title":"Testing Guide","text":"<p>Comprehensive guide for running tests, code quality checks, and CI/CD validation in the Titanic Survival Prediction project.</p>"},{"location":"guides/testing/#quick-command-reference","title":"Quick Command Reference","text":"<pre><code># Run all tests\nuv run pytest\n\n# Run specific test types\nuv run pytest -m unit              # Unit tests only\nuv run pytest -m integration       # Integration tests only\n\n# Run with coverage report\nuv run pytest --cov=src --cov-report=html\n\n# Run code quality checks\nuv run black --check titanic_ml/       # Formatter check\nuv run isort --check-only titanic_ml/  # Import sorter check\nuv run flake8 titanic_ml/              # Linting\nuv run mypy titanic_ml/                # Type checking\n</code></pre>"},{"location":"guides/testing/#test-suite-overview","title":"Test Suite Overview","text":"<p>The project includes three types of tests:</p> <ol> <li>Unit Tests (<code>tests/unit/</code>) - Fast, isolated tests for individual functions and classes</li> <li>Integration Tests (<code>tests/integration/</code>) - API endpoint and component integration tests</li> <li>UI Tests (<code>tests/ui/</code>) - End-to-end browser tests using Playwright</li> </ol>"},{"location":"guides/testing/#test-coverage","title":"Test Coverage","text":"<p>Current test modules:</p> <ul> <li>Data Loading (<code>test_data_loader.py</code>) - Tests for data ingestion and splitting</li> <li>Feature Engineering (<code>test_feature_engineering.py</code>) - Tests for feature creation and transformations</li> <li>Prediction Pipeline (<code>test_prediction.py</code>) - Tests for CustomData and PredictPipeline classes</li> <li>Utilities (<code>test_utils.py</code>) - Tests for helpers, logging, and exception handling</li> <li>API Endpoints (<code>test_api.py</code>) - Integration tests for all Flask routes</li> <li>UI (<code>home.test.js</code>) - Browser-based end-to-end tests</li> </ul>"},{"location":"guides/testing/#testing-with-pytest","title":"Testing with pytest","text":""},{"location":"guides/testing/#prerequisites","title":"Prerequisites","text":"<p>Ensure development dependencies are installed:</p> <pre><code>uv sync --group dev\n</code></pre>"},{"location":"guides/testing/#run-all-tests","title":"Run All Tests","text":"<pre><code># Run all tests with verbose output\nuv run pytest -v\n\n# Run only unit tests (fast)\nuv run pytest -m unit -v\n\n# Run only integration tests\nuv run pytest -m integration -v\n\n# Run specific test file\nuv run pytest tests/unit/test_prediction.py -v\n\n# Run specific test class\nuv run pytest tests/unit/test_feature_engineering.py::TestApplyFeatureEngineering -v\n\n# Run specific test function\nuv run pytest tests/unit/test_prediction.py::TestCustomData::test_initialization -v\n\n# Run tests matching a pattern\nuv run pytest -k \"test_predict\" -v\n\n# Run tests and stop at first failure\nuv run pytest -x\n\n# Run tests with detailed output\nuv run pytest -vv --tb=short\n</code></pre>"},{"location":"guides/testing/#coverage-reports","title":"Coverage Reports","text":"<pre><code># Generate coverage report in terminal\nuv run pytest --cov=src --cov-report=term-missing\n\n# Generate HTML coverage report\nuv run pytest --cov=src --cov-report=html:reports/coverage/html\n\n# Generate XML coverage report (for CI)\nuv run pytest --cov=src --cov-report=xml:reports/coverage/coverage.xml\n\n# View HTML report\nstart reports/coverage/html/index.html  # Windows\nopen reports/coverage/html/index.html   # macOS\n</code></pre>"},{"location":"guides/testing/#test-markers","title":"Test Markers","text":"<p>Tests are organized with markers for selective execution:</p> <pre><code># Unit tests (fast)\nuv run pytest -m unit\n\n# Integration tests (API endpoints)\nuv run pytest -m integration\n\n# Skip slow tests\nuv run pytest -m \"not slow\"\n\n# Run only specific markers\nuv run pytest -m \"unit and not slow\"\n</code></pre> <p>Available markers: - <code>@pytest.mark.unit</code> - Fast unit tests (&lt; 1s each) - <code>@pytest.mark.integration</code> - API integration tests (Flask app) - <code>@pytest.mark.slow</code> - Time-consuming tests (model training, etc.) - <code>@pytest.mark.requires_model</code> - Tests requiring pre-trained model files</p>"},{"location":"guides/testing/#test-fixtures","title":"Test Fixtures","text":"<p>Shared test fixtures are defined in <code>tests/conftest.py</code>:</p> <ul> <li><code>sample_train_data</code> - Sample Titanic training dataset</li> <li><code>sample_test_data</code> - Sample Titanic test dataset</li> <li><code>sample_prediction_features</code> - Pre-engineered features for testing</li> <li><code>sample_custom_data_dict</code> - Dictionary for CustomData initialization</li> <li><code>sample_api_request</code> - JSON payload for API testing</li> <li><code>mock_model</code> - Mock trained RandomForest model</li> <li><code>mock_preprocessor</code> - Mock StandardScaler preprocessor</li> <li><code>flask_app</code> - Flask application in test mode</li> <li><code>client</code> - Flask test client for HTTP requests</li> <li><code>temp_dir</code> - Temporary directory for file operations</li> </ul> <p>Using fixtures in tests:</p> <pre><code>@pytest.mark.unit\ndef test_data_loader(sample_train_data, temp_dir):\n    \"\"\"Test uses sample data and temp directory.\"\"\"\n    train_path = temp_dir / \"train.csv\"\n    sample_train_data.to_csv(train_path, index=False)\n    # ... test code\n</code></pre>"},{"location":"guides/testing/#pytest-configuration","title":"Pytest Configuration","text":"<p>Configuration is in <code>pyproject.toml</code>:</p> <pre><code>[tool.pytest.ini_options]\ntestpaths = [\"tests\"]\npython_files = [\"test_*.py\", \"*_test.py\"]\npython_classes = [\"Test*\"]\npython_functions = [\"test_*\"]\nmarkers = [\n    \"unit: Unit tests for individual functions\",\n    \"integration: Integration tests for API endpoints\",\n    \"slow: Tests that take longer to run\",\n]\naddopts = [\n    \"--verbose\",\n    \"--cov=src\",\n    \"--cov-report=term-missing\",\n    \"--cov-fail-under=40\",\n]\n</code></pre>"},{"location":"guides/testing/#ui-testing-with-playwright","title":"UI Testing with Playwright","text":""},{"location":"guides/testing/#prerequisites_1","title":"Prerequisites","text":"<p>Install Playwright and browsers:</p> <pre><code># Install Playwright\nnpm install -D @playwright/test\n\n# Install browsers\nnpx playwright install\n</code></pre>"},{"location":"guides/testing/#running-ui-tests","title":"Running UI Tests","text":"<pre><code># Run all UI tests\nnpx playwright test tests/ui/\n\n# Run with UI mode (interactive)\nnpx playwright test --ui\n\n# Run in headed mode (see browser)\nnpx playwright test --headed\n\n# Run specific test file\nnpx playwright test tests/ui/home.test.js\n\n# Run tests in specific browser\nnpx playwright test --project=chromium\nnpx playwright test --project=firefox  \nnpx playwright test --project=webkit\n\n# Generate HTML report\nnpx playwright test --reporter=html\nnpx playwright show-report\n</code></pre>"},{"location":"guides/testing/#ui-test-coverage","title":"UI Test Coverage","text":"<p>The UI tests (<code>tests/ui/home.test.js</code>) cover:</p> <ul> <li>\u2705 Page loading and form field presence</li> <li>\u2705 Prediction for different passenger profiles</li> <li>\u2705 Different passenger classes (1<sup>st</sup>, 2<sup>nd</sup>, 3<sup>rd</sup>)</li> <li>\u2705 Different embarkation ports (C, Q, S)</li> <li>\u2705 Input validation</li> <li>\u2705 Confidence level display</li> <li>\u2705 Multiple form submissions</li> </ul> <p>Important: UI tests require the Flask app to be running:</p> <pre><code># Terminal 1: Start the app\nuv run python -m src.app.routes\n\n# Terminal 2: Run UI tests\nnpx playwright test\n</code></pre>"},{"location":"guides/testing/#test-structure-and-organization","title":"Test Structure and Organization","text":"<pre><code>tests/\n\u251c\u2500\u2500 conftest.py                 # Shared fixtures\n\u251c\u2500\u2500 __init__.py\n\u2502\n\u251c\u2500\u2500 unit/                        # Unit tests (fast, isolated)\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 test_data_loader.py     # Data loading tests\n\u2502   \u251c\u2500\u2500 test_feature_engineering.py  # Feature tests\n\u2502   \u251c\u2500\u2500 test_prediction.py      # Prediction pipeline tests\n\u2502   \u2514\u2500\u2500 test_utils.py           # Utility function tests\n\u2502\n\u251c\u2500\u2500 integration/                 # Integration tests\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 test_api.py             # API endpoint tests\n\u2502\n\u2514\u2500\u2500 ui/                          # UI/E2E tests\n    \u2514\u2500\u2500 home.test.js            # Playwright browser tests\n</code></pre>"},{"location":"guides/testing/#writing-unit-tests","title":"Writing Unit Tests","text":"<pre><code>import pytest\nfrom src.features.build_features import infer_fare_from_class\n\n@pytest.mark.unit\nclass TestFareInference:\n    \"\"\"Test fare inference logic.\"\"\"\n\n    def test_first_class_solo(self):\n        \"\"\"Test fare for first class solo traveler.\"\"\"\n        fare = infer_fare_from_class(\"1\", 1)\n        assert fare == pytest.approx(84.15, rel=0.01)\n\n    def test_family_discount(self):\n        \"\"\"Test family discount is applied.\"\"\"\n        solo_fare = infer_fare_from_class(\"1\", 1)\n        family_fare = infer_fare_from_class(\"1\", 3)\n        assert family_fare == pytest.approx(solo_fare * 0.9, rel=0.01)\n</code></pre>"},{"location":"guides/testing/#writing-integration-tests","title":"Writing Integration Tests","text":"<pre><code>import pytest\nimport json\n\n@pytest.mark.integration\nclass TestAPIPredictRoute:\n    \"\"\"Test /api/predict endpoint.\"\"\"\n\n    def test_api_predict_success(self, client):\n        \"\"\"Test successful prediction via API.\"\"\"\n        request_data = {\n            \"age\": 30,\n            \"sex\": \"female\",\n            \"name_title\": \"Miss\",\n            \"sibsp\": 0,\n            \"pclass\": 1,\n            \"embarked\": \"C\",\n            \"cabin_multiple\": 1,\n            \"parch\": 0,\n        }\n\n        response = client.post(\n            \"/api/predict\",\n            data=json.dumps(request_data),\n            content_type=\"application/json\",\n        )\n\n        assert response.status_code == 200\n        data = json.loads(response.data)\n        assert \"prediction\" in data\n        assert 0 &lt;= data[\"probability\"] &lt;= 1\n</code></pre>"},{"location":"guides/testing/#using-test-fixtures","title":"Using Test Fixtures","text":"<pre><code>@pytest.mark.unit\ndef test_with_fixtures(sample_train_data, temp_dir):\n    \"\"\"Test using shared fixtures.\"\"\"\n    # sample_train_data is a pre-loaded DataFrame\n    assert len(sample_train_data) &gt; 0\n\n    # temp_dir is a Path to temporary directory\n    test_file = temp_dir / \"output.csv\"\n    sample_train_data.to_csv(test_file, index=False)\n    assert test_file.exists()\n</code></pre>"},{"location":"guides/testing/#mocking-in-tests","title":"Mocking in Tests","text":"<pre><code>from unittest.mock import patch, MagicMock\n\n@pytest.mark.integration\n@patch(\"src.app.routes.PredictPipeline\")\ndef test_with_mock(mock_pipeline, client):\n    \"\"\"Test with mocked prediction pipeline.\"\"\"\n    # Configure mock\n    mock_instance = MagicMock()\n    mock_instance.predict.return_value = ([1], [0.85])\n    mock_pipeline.return_value = mock_instance\n\n    # Make request\n    response = client.post(\n        \"/prediction\",\n        data={\"age\": \"30\", \"gender\": \"female\", ...}\n    )\n\n    # Verify\n    assert response.status_code == 200\n    assert mock_instance.predict.called\n</code></pre>"},{"location":"guides/testing/#code-quality-checks","title":"Code Quality Checks","text":""},{"location":"guides/testing/#black-code-formatter","title":"Black - Code Formatter","text":"<p>Ensures consistent code style across the project:</p> <pre><code># Check formatting (no changes)\nuv run black --check titanic_ml/\n\n# Apply formatting\nuv run black titanic_ml/\n\n# Check specific directory\nuv run black --check titanic_ml/models/\n</code></pre> <p>Configuration (<code>pyproject.toml</code>): - Line length: 100 characters - Target Python versions: 3.11, 3.12, 3.13 - Preview mode: Enabled for modern features</p>"},{"location":"guides/testing/#isort-import-sorter","title":"isort - Import Sorter","text":"<p>Organizes imports in a consistent manner:</p> <pre><code># Check import sorting (no changes)\nuv run isort --check-only titanic_ml/\n\n# Sort imports\nuv run isort titanic_ml/\n\n# Check specific directory\nuv run isort --check-only titanic_ml/models/\n</code></pre> <p>Configuration (<code>pyproject.toml</code>): - Profile: black (compatible with Black formatter) - Line length: 100 characters - First-party imports: <code>titanic_ml/*</code></p>"},{"location":"guides/testing/#flake8-linter","title":"flake8 - Linter","text":"<p>Checks code quality, PEP 8 compliance, and naming conventions:</p> <pre><code># Run linting with statistics\nuv run flake8 titanic_ml/\n\n# Detailed output with source\nuv run flake8 titanic_ml/ --count --statistics --show-source\n\n# Check specific directory\nuv run flake8 titanic_ml/models/\n</code></pre> <p>Configuration (<code>pyproject.toml</code>): - Max line length: 100 characters - Max complexity: 15 (reasonable for ML pipelines) - Selected checks: E, W, F, C, N (Error, Warning, Flake, Complexity, Naming)</p> <p>Ignored errors: - E203: Whitespace before ':' - E266: Too many leading '#' for block comment - E501: Line too long (handled by Black) - W503/W504: Line break operators (deprecated) - F401: Imported but unused (checked per-file)</p>"},{"location":"guides/testing/#mypy-type-checker","title":"mypy - Type Checker","text":"<p>Validates type hints and catches type-related bugs:</p> <pre><code># Run type checking\nuv run mypy titanic_ml/\n\n# With detailed output\nuv run mypy titanic_ml/ --show-error-codes --show-error-context\n\n# Check specific file\nuv run mypy titanic_ml/models/predict.py\n</code></pre> <p>Configuration (<code>pyproject.toml</code>): - Python version: 3.11 - Lenient settings for gradual type adoption - Ignore missing type stubs: <code>ignore_missing_imports = true</code></p> <p>Expected mypy errors</p> <p>Some Pydantic Field overloads generate false positives. These are acceptable and don't affect runtime behavior.</p>"},{"location":"guides/testing/#running-all-quality-checks","title":"Running All Quality Checks","text":""},{"location":"guides/testing/#sequential-execution","title":"Sequential Execution","text":"<pre><code># Run all checks one after another\nuv run black titanic_ml/ &amp;&amp; uv run isort titanic_ml/ &amp;&amp; uv run flake8 titanic_ml/ &amp;&amp; uv run mypy titanic_ml/\n\n# On Windows PowerShell\nuv run black titanic_ml/ ; uv run isort titanic_ml/ ; uv run flake8 titanic_ml/ ; uv run mypy titanic_ml/\n</code></pre>"},{"location":"guides/testing/#quality-check-script","title":"Quality Check Script","text":"<p>Create a shell script (<code>.scripts/quality.sh</code> or <code>.scripts/quality.ps1</code>) for convenience:</p> <pre><code>#!/bin/bash\necho \"Running code quality checks...\"\necho \"================================\"\n\necho -e \"\\n1. Black (formatter)...\"\nuv run black --check titanic_ml/ || exit 1\n\necho -e \"\\n2. isort (imports)...\"\nuv run isort --check-only titanic_ml/ || exit 1\n\necho -e \"\\n3. flake8 (linting)...\"\nuv run flake8 titanic_ml/ || exit 1\n\necho -e \"\\n4. mypy (type checking)...\"\nuv run mypy titanic_ml/ || true  # Allow mypy to fail\n\necho -e \"\\n\u2713 All quality checks passed!\"\n</code></pre>"},{"location":"guides/testing/#continuous-integration-cicd","title":"Continuous Integration (CI/CD)","text":""},{"location":"guides/testing/#github-actions-workflow","title":"GitHub Actions Workflow","text":"<p>The project uses GitHub Actions to automatically run checks on every push and pull request. Configuration is in <code>.github/workflows/ci.yml</code>:</p> <p>Test Jobs: - Python 3.11, 3.12, 3.13 - Unit and integration tests - Coverage reporting</p> <p>Quality Jobs: - Black formatting check - isort import sorting check - flake8 linting - mypy type checking</p>"},{"location":"guides/testing/#local-ci-simulation","title":"Local CI Simulation","text":"<p>To test locally before pushing:</p> <pre><code># Run tests (as CI would)\nuv run pytest tests/ -v --cov=src --cov-report=term-missing --cov-fail-under=40\n\n# Run all formatters/linters\nuv run black --check titanic_ml/\nuv run isort --check-only titanic_ml/\nuv run flake8 titanic_ml/ --count --statistics\nuv run mypy titanic_ml/ --ignore-missing-imports\n</code></pre>"},{"location":"guides/testing/#writing-tests","title":"Writing Tests","text":""},{"location":"guides/testing/#test-structure","title":"Test Structure","text":"<pre><code>tests/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 unit/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 test_predict_pipeline.py\n\u2514\u2500\u2500 integration/\n    \u251c\u2500\u2500 __init__.py\n    \u2514\u2500\u2500 test_api.py\n</code></pre>"},{"location":"guides/testing/#unit-test-example","title":"Unit Test Example","text":"<pre><code>import pytest\nfrom src.models.predict import PredictPipeline\n\n\n@pytest.mark.unit\ndef test_predict_pipeline_initialization():\n    \"\"\"Test that PredictPipeline initializes correctly.\"\"\"\n    pipeline = PredictPipeline()\n    assert pipeline is not None\n    assert hasattr(pipeline, 'predict')\n\n\n@pytest.mark.unit\ndef test_predict_output_format():\n    \"\"\"Test prediction output format.\"\"\"\n    pipeline = PredictPipeline()\n    # Assertions would go here\n    assert True  # Placeholder\n</code></pre>"},{"location":"guides/testing/#integration-test-example","title":"Integration Test Example","text":"<pre><code>import pytest\nfrom flask.testing import FlaskClient\n\n\n@pytest.mark.integration\ndef test_health_endpoint(client: FlaskClient):\n    \"\"\"Test health check endpoint.\"\"\"\n    response = client.get('/health')\n    assert response.status_code == 200\n\n\n@pytest.mark.integration\ndef test_predict_endpoint_validation():\n    \"\"\"Test prediction endpoint validates input.\"\"\"\n    # Test invalid input handling\n    assert True  # Placeholder\n</code></pre>"},{"location":"guides/testing/#test-fixtures_1","title":"Test Fixtures","text":"<p>Define reusable fixtures in <code>tests/conftest.py</code>:</p> <pre><code>import pytest\nfrom flask import Flask\n\n\n@pytest.fixture\ndef client():\n    \"\"\"Create Flask test client.\"\"\"\n    from app import app\n    app.config['TESTING'] = True\n    with app.test_client() as client:\n        yield client\n</code></pre>"},{"location":"guides/testing/#coverage-goals","title":"Coverage Goals","text":"<ul> <li>Target: 40%+ overall coverage (configurable in <code>pyproject.toml</code>)</li> <li>Focus: Core logic in <code>titanic_ml/models/</code>, <code>titanic_ml/data/</code>, and <code>titanic_ml/features/</code></li> <li>Exclude: ML model internals, visualization code, Flask templates</li> </ul> <p>To check coverage:</p> <pre><code># Terminal report\nuv run pytest --cov=src --cov-report=term-missing\n\n# HTML report for detailed view\nuv run pytest --cov=src --cov-report=html\nopen reports/coverage/html/index.html  # macOS\nstart reports/coverage/html/index.html  # Windows\n</code></pre>"},{"location":"guides/testing/#current-test-coverage","title":"Current Test Coverage","text":"<p>Unit Tests: - \u2705 Data loading and CSV operations - \u2705 Feature engineering and transformations - \u2705 Fare inference logic - \u2705 Title extraction and grouping - \u2705 Age group categorization - \u2705 Cabin feature extraction - \u2705 CustomData class and DataFrame conversion - \u2705 PredictPipeline initialization - \u2705 Utility functions (save/load objects) - \u2705 Logger configuration - \u2705 Custom exception handling</p> <p>Integration Tests: - \u2705 Home page route (<code>/</code>) - \u2705 Prediction page route (<code>/prediction</code>) - \u2705 Health check endpoint (<code>/health</code>) - \u2705 API prediction endpoint (<code>/api/predict</code>) - \u2705 API explanation endpoint (<code>/api/explain</code>) - \u2705 Input validation - \u2705 Error handling - \u2705 Response format validation</p> <p>UI Tests: - \u2705 Form field presence - \u2705 Different passenger scenarios - \u2705 Navigation and page loading - \u2705 Prediction result display</p>"},{"location":"guides/testing/#running-complete-test-suite","title":"Running Complete Test Suite","text":""},{"location":"guides/testing/#full-test-run","title":"Full Test Run","text":"<pre><code># Run all Python tests with coverage\nuv run pytest -v --cov=src --cov-report=html --cov-report=term\n\n# Run all UI tests (app must be running)\nnpx playwright test\n\n# Run code quality checks\nuv run black --check titanic_ml/\nuv run isort --check-only titanic_ml/\nuv run flake8 titanic_ml/\nuv run mypy titanic_ml/\n</code></pre>"},{"location":"guides/testing/#pre-commit-checklist","title":"Pre-Commit Checklist","text":"<p>Before committing code, run:</p> <pre><code># 1. Format code\nuv run black titanic_ml/\nuv run isort titanic_ml/\n\n# 2. Run unit and integration tests\nuv run pytest -m \"unit or integration\" -v\n\n# 3. Check linting\nuv run flake8 titanic_ml/\n\n# 4. Check types\nuv run mypy titanic_ml/\n\n# 5. Verify coverage\nuv run pytest --cov=src --cov-fail-under=40\n</code></pre>"},{"location":"guides/testing/#cicd-pipeline-simulation","title":"CI/CD Pipeline Simulation","text":"<p>Simulate what runs in GitHub Actions:</p> <pre><code># Install dependencies\nuv sync --all-groups\n\n# Run formatters in check mode\nuv run black --check titanic_ml/\nuv run isort --check-only titanic_ml/\n\n# Run linters\nuv run flake8 titanic_ml/ --count --statistics\n\n# Run type checker\nuv run mypy titanic_ml/\n\n# Run tests with coverage\nuv run pytest -v --cov=src --cov-report=xml --cov-fail-under=40\n\n# Check for security vulnerabilities\nuv run pip-audit\n</code></pre>"},{"location":"guides/testing/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/testing/#tests-wont-run","title":"Tests Won't Run","text":"<pre><code># Ensure dev dependencies are installed\nuv sync --group dev\n\n# Verify pytest is available\nuv run pytest --version\n</code></pre>"},{"location":"guides/testing/#import-errors-in-tests","title":"Import Errors in Tests","text":"<pre><code># Reinstall dependencies\nuv sync --all-groups\n\n# Check Python path\nuv run python -c \"import sys; print(sys.path)\"\n</code></pre>"},{"location":"guides/testing/#coverage-report-not-generated","title":"Coverage Report Not Generated","text":"<pre><code># Install coverage explicitly\nuv run pip install coverage pytest-cov\n\n# Generate with explicit output\nuv run pytest --cov=src --cov-report=html:reports/coverage/html --cov-report=term\n</code></pre>"},{"location":"guides/testing/#slow-tests","title":"Slow Tests","text":"<pre><code># Skip slow tests during development\nuv run pytest -m \"not slow\"\n\n# Run only fast tests\nuv run pytest -m \"unit\"\n\n# Show slowest tests\nuv run pytest --durations=10\n</code></pre>"},{"location":"guides/testing/#best-practices","title":"Best Practices","text":"<ol> <li>Write tests as you code - Test-driven development catches bugs early</li> <li>Use meaningful test names - Names should describe what is being tested</li> <li>Keep tests isolated - Use fixtures for setup/teardown</li> <li>Test edge cases - Test boundary conditions and error handling</li> <li>Maintain test coverage - Aim for high coverage on critical paths</li> <li>Run tests locally before pushing - Catch failures early</li> </ol>"},{"location":"guides/testing/#related-documentation","title":"Related Documentation","text":"<ul> <li>Installation: Installation Guide - Set up the project</li> <li>Quick Start: Quick Start Guide - Run the application</li> <li>Development: Architecture Guide - Understand the codebase</li> <li>Configuration: Configuration Guide - Customize settings</li> </ul>"},{"location":"guides/testing/#need-help","title":"Need Help?","text":"<ul> <li>Review existing tests in <code>tests/</code> directory</li> <li>Check pytest documentation: pytest.org</li> <li>Open an issue on GitHub</li> <li>Email: k.s.bonev@gmail.com</li> </ul>"},{"location":"reference/api/","title":"API Reference","text":"<p>Complete API documentation for the Titanic Survival Prediction system.</p>"},{"location":"reference/api/#overview","title":"Overview","text":"<p>The project provides both a web interface and programmatic API for making predictions.</p>"},{"location":"reference/api/#web-interface","title":"Web Interface","text":"<ul> <li>Home Page: <code>http://localhost:5000/</code></li> <li>Prediction Form: <code>http://localhost:5000/prediction</code></li> <li>Health Check: <code>http://localhost:5000/health</code></li> </ul>"},{"location":"reference/api/#python-api","title":"Python API","text":"<pre><code>from src.models.predict import PredictPipeline, CustomData\n\n# Create input\npassenger = CustomData(age=25, sex='female', pclass='1', sibsp=0, parch=0, embarked='S', name_title='Miss', cabin_multiple=0)\n\n# Make prediction\npipeline = PredictPipeline()\npredictions, probabilities = pipeline.predict(passenger.get_data_as_dataframe())\n</code></pre>"},{"location":"reference/api/#flask-routes","title":"Flask Routes","text":""},{"location":"reference/api/#get","title":"GET /","text":"<p>Home page with project information.</p> <p>Response: HTML page</p>"},{"location":"reference/api/#getpost-prediction","title":"GET/POST /prediction","text":"<p>Prediction form and API endpoint.</p> <p>GET: Returns prediction form POST: Makes prediction</p> <p>Form Parameters:</p> <ul> <li><code>age</code> (float): Passenger age</li> <li><code>gender</code> (string): 'male' or 'female'</li> <li><code>pclass</code> (string): '1', '2', or '3'</li> <li><code>sibsp</code> (int): Number of siblings/spouses</li> <li><code>parch</code> (int): Number of parents/children</li> <li><code>embarked</code> (string): 'C', 'Q', or 'S'</li> <li><code>name_title</code> (string): Title from name</li> <li><code>cabin_multiple</code> (int): Number of cabins</li> </ul> <p>Response: HTML with prediction result</p>"},{"location":"reference/api/#get-health","title":"GET /health","text":"<p>Health check endpoint for monitoring.</p> <p>Response:</p> <pre><code>{\n  \"status\": \"healthy\",\n  \"service\": \"titanic-survival-predictor-api\"\n}\n</code></pre>"},{"location":"reference/api/#python-modules","title":"Python Modules","text":"<p>The following modules are auto-documented using mkdocstrings.</p>"},{"location":"reference/api/#prediction-pipeline","title":"Prediction Pipeline","text":"<p>::: src.models.predict     options:       show_root_heading: true       show_source: false       members:         - PredictPipeline         - CustomData</p>"},{"location":"reference/api/#model-training","title":"Model Training","text":"<p>::: src.models.train     options:       show_root_heading: true       show_source: false       members:         - ModelTrainer</p>"},{"location":"reference/api/#data-loading","title":"Data Loading","text":"<p>::: src.data.loader     options:       show_root_heading: true       show_source: false       members:         - DataLoader</p>"},{"location":"reference/api/#data-transformation","title":"Data Transformation","text":"<p>::: src.data.transformer     options:       show_root_heading: true       show_source: false       members:         - DataTransformer</p>"},{"location":"reference/api/#feature-engineering","title":"Feature Engineering","text":"<p>::: src.features.build_features     options:       show_root_heading: true       show_source: false       members:         - apply_feature_engineering</p>"},{"location":"reference/api/#utilities","title":"Utilities","text":"<p>::: src.utils.helpers     options:       show_root_heading: true       show_source: false</p>"},{"location":"reference/api_quick_reference/","title":"API Quick Reference","text":"<p>Quick reference for the Titanic ML API endpoints.</p>"},{"location":"reference/api_quick_reference/#base-url","title":"Base URL","text":"<pre><code>http://localhost:8080\n</code></pre>"},{"location":"reference/api_quick_reference/#endpoints","title":"Endpoints","text":""},{"location":"reference/api_quick_reference/#health-check","title":"\ud83c\udfe5 Health Check","text":"<pre><code>GET /health\n</code></pre> <p>Response: <pre><code>{\n  \"status\": \"healthy\",\n  \"model_loaded\": true,\n  \"preprocessor_loaded\": true,\n  \"version\": \"1.0.0\"\n}\n</code></pre></p>"},{"location":"reference/api_quick_reference/#prediction","title":"\ud83c\udfaf Prediction","text":"<pre><code>POST /api/predict\nContent-Type: application/json\n</code></pre> <p>Request: <pre><code>{\n  \"pclass\": 1,\n  \"sex\": \"female\",\n  \"age\": 29.0,\n  \"sibsp\": 0,\n  \"parch\": 0,\n  \"embarked\": \"S\",\n  \"cabin_multiple\": 0,\n  \"name_title\": \"Mrs\"\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"prediction\": 1,\n  \"probability\": 0.87,\n  \"confidence\": \"high\",\n  \"inferred_fare\": 84.15,\n  \"family_size\": 1,\n  \"message\": \"Passenger likely survived with 87% confidence\"\n}\n</code></pre></p>"},{"location":"reference/api_quick_reference/#shap-explanation","title":"\ud83d\udcca SHAP Explanation","text":"<pre><code>POST /api/explain\nContent-Type: application/json\n</code></pre> <p>Request: <pre><code>{\n  \"pclass\": 1,\n  \"sex\": \"female\",\n  \"age\": 29.0,\n  \"sibsp\": 0,\n  \"parch\": 0,\n  \"embarked\": \"S\",\n  \"plot_type\": \"waterfall\"\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"prediction\": 1,\n  \"probability\": 0.87,\n  \"explanation_image_url\": \"/static/images/shap_explanation_20240315_143022.png\",\n  \"top_features\": {\n    \"Sex_female\": 0.45,\n    \"Pclass_1\": 0.32,\n    \"Age\": -0.12\n  },\n  \"base_value\": 0.38\n}\n</code></pre></p>"},{"location":"reference/api_quick_reference/#api-documentation","title":"\ud83d\udcda API Documentation","text":"<pre><code>GET /api/docs\n</code></pre> <p>Opens Swagger UI with interactive documentation.</p>"},{"location":"reference/api_quick_reference/#field-reference","title":"Field Reference","text":""},{"location":"reference/api_quick_reference/#required-fields","title":"Required Fields","text":"Field Type Values Description <code>pclass</code> int 1, 2, 3 Passenger class <code>sex</code> string \"male\", \"female\" Gender <code>age</code> float 0.0-100.0 Age in years <code>sibsp</code> int 0-10 Siblings/spouses <code>parch</code> int 0-10 Parents/children <code>embarked</code> string \"S\", \"C\", \"Q\" Embarkation port"},{"location":"reference/api_quick_reference/#optional-fields","title":"Optional Fields","text":"Field Type Default Description <code>cabin_multiple</code> int 0 Multiple cabins (0/1) <code>name_title</code> string \"Mr\" Passenger title <code>plot_type</code> string \"waterfall\" SHAP plot type"},{"location":"reference/api_quick_reference/#embarkation-codes","title":"Embarkation Codes","text":"<ul> <li>S: Southampton (most common)</li> <li>C: Cherbourg</li> <li>Q: Queenstown</li> </ul>"},{"location":"reference/api_quick_reference/#plot-types-shap","title":"Plot Types (SHAP)","text":"<ul> <li>waterfall: Cumulative feature contributions</li> <li>force: Horizontal bar (red=positive, blue=negative)</li> <li>bar: Feature importance ranking</li> </ul>"},{"location":"reference/api_quick_reference/#confidence-levels","title":"Confidence Levels","text":"<ul> <li>high: probability \u2265 0.7 or \u2264 0.3</li> <li>medium: probability \u2265 0.55 or \u2264 0.45</li> <li>low: probability 0.45-0.55</li> </ul>"},{"location":"reference/api_quick_reference/#example-passengers","title":"Example Passengers","text":""},{"location":"reference/api_quick_reference/#high-survival-80","title":"High Survival (&gt;80%)","text":"<pre><code>{\n  \"pclass\": 1,\n  \"sex\": \"female\",\n  \"age\": 29,\n  \"sibsp\": 0,\n  \"parch\": 0,\n  \"embarked\": \"S\"\n}\n</code></pre>"},{"location":"reference/api_quick_reference/#low-survival-20","title":"Low Survival (&lt;20%)","text":"<pre><code>{\n  \"pclass\": 3,\n  \"sex\": \"male\",\n  \"age\": 22,\n  \"sibsp\": 1,\n  \"parch\": 0,\n  \"embarked\": \"S\"\n}\n</code></pre>"},{"location":"reference/api_quick_reference/#uncertain-40-60","title":"Uncertain (40-60%)","text":"<pre><code>{\n  \"pclass\": 2,\n  \"sex\": \"male\",\n  \"age\": 35,\n  \"sibsp\": 1,\n  \"parch\": 2,\n  \"embarked\": \"C\"\n}\n</code></pre>"},{"location":"reference/api_quick_reference/#python-client","title":"Python Client","text":"<pre><code>import requests\n\n# Prediction\nresponse = requests.post(\n    'http://localhost:8080/api/predict',\n    json={\n        'pclass': 1,\n        'sex': 'female',\n        'age': 29.0,\n        'sibsp': 0,\n        'parch': 0,\n        'embarked': 'S'\n    }\n)\nprint(response.json())\n\n# Explanation\nresponse = requests.post(\n    'http://localhost:8080/api/explain',\n    json={\n        'pclass': 1,\n        'sex': 'female',\n        'age': 29.0,\n        'sibsp': 0,\n        'parch': 0,\n        'embarked': 'S',\n        'plot_type': 'waterfall'\n    }\n)\nresult = response.json()\nprint(f\"Image URL: {result['explanation_image_url']}\")\n</code></pre>"},{"location":"reference/api_quick_reference/#error-codes","title":"Error Codes","text":"<ul> <li>200: Success</li> <li>400: Invalid request (validation error)</li> <li>500: Server error (model/SHAP issue)</li> </ul>"},{"location":"reference/api_quick_reference/#see-also","title":"See Also","text":"<ul> <li>Full documentation: <code>docs/guides/api.md</code></li> <li>OpenAPI spec: <code>static/openapi.yaml</code></li> <li>Swagger UI: http://localhost:8080/api/docs</li> </ul>"},{"location":"technical/class-imbalance/","title":"Class Imbalance Handling","text":"<p>Strategies for dealing with imbalanced classes in the Titanic dataset.</p>"},{"location":"technical/class-imbalance/#problem","title":"Problem","text":"<p>The Titanic dataset has imbalanced classes: - 62% Did Not Survive (0) - 38% Survived (1)</p> <p>This can lead to models biased toward the majority class.</p>"},{"location":"technical/class-imbalance/#solution-stratified-cross-validation","title":"Solution: Stratified Cross-Validation","text":"<p>All cross-validation uses <code>StratifiedKFold</code> to maintain class distribution in each fold.</p> <pre><code>from sklearn.model_selection import StratifiedKFold\n\ncv = StratifiedKFold(n_splits=5, shuffle=True, random_state=42)\n</code></pre>"},{"location":"technical/class-imbalance/#benefits","title":"Benefits","text":"<ul> <li>Maintains exact class proportions in each fold</li> <li>More reliable performance estimates</li> <li>Reduces variance across folds</li> <li>Better for small datasets</li> </ul>"},{"location":"technical/class-imbalance/#additional-techniques","title":"Additional Techniques","text":""},{"location":"technical/class-imbalance/#1-class-weights","title":"1. Class Weights","text":"<p>Penalize misclassifications of minority class more heavily:</p> <pre><code>from sklearn.linear_model import LogisticRegression\n\nmodel = LogisticRegression(class_weight='balanced')\n</code></pre>"},{"location":"technical/class-imbalance/#2-smote","title":"2. SMOTE","text":"<p>Synthetic Minority Over-sampling Technique:</p> <pre><code>from imblearn.over_sampling import SMOTE\n\nsmote = SMOTE(random_state=42)\nX_resampled, y_resampled = smote.fit_resample(X_train, y_train)\n</code></pre>"},{"location":"technical/class-imbalance/#3-ensemble-methods","title":"3. Ensemble Methods","text":"<p>Use models robust to imbalance: - Random Forest: Built-in class weighting - XGBoost: <code>scale_pos_weight</code> parameter - CatBoost: Handles imbalance automatically</p>"},{"location":"technical/class-imbalance/#4-evaluation-metrics","title":"4. Evaluation Metrics","text":"<p>Use metrics appropriate for imbalanced data: - F1-Score: Harmonic mean of precision and recall - ROC-AUC: Threshold-independent - Precision-Recall Curve: Better than ROC for imbalance</p>"},{"location":"technical/class-imbalance/#current-implementation","title":"Current Implementation","text":"<p>The project uses:</p> <ol> <li>\u2705 Stratified K-Fold CV (5 folds)</li> <li>\u2705 Weighted F1-Score as secondary metric</li> <li>\u2705 XGBoost/CatBoost (imbalance-aware models)</li> <li>\u2705 ROC curves for threshold analysis</li> </ol>"},{"location":"technical/class-imbalance/#when-to-use-each-technique","title":"When to Use Each Technique","text":"Technique Use When Avoid When Stratified CV Always (best practice) Never Class Weights Moderate imbalance (30-70%) Extreme imbalance (&lt;5%) SMOTE Severe imbalance (&lt;20%) Sufficient minority samples Ensemble Any imbalance Need interpretability"},{"location":"technical/class-imbalance/#further-reading","title":"Further Reading","text":"<ul> <li>Stratified K-Fold</li> <li>SMOTE</li> <li>Class Weights</li> </ul>"},{"location":"technical/logging-enhancements/","title":"Logging Enhancements","text":"<p>Status: Complete</p> <p>Project-wide structured logging configuration for local development and cloud deployments.</p>"},{"location":"technical/logging-enhancements/#quick-start","title":"Quick Start","text":"<pre><code>from src.logger import get_logger, configure_logging\n\nconfigure_logging()\nlogger = get_logger(__name__)\nlogger.info(\"Application started\")\n</code></pre>"},{"location":"technical/logging-enhancements/#configuration","title":"Configuration","text":"<p>The logger auto-detects the deployment environment:</p> <pre><code>configure_logging()\nconfigure_logging(level=\"INFO\", use_json=True)\nconfigure_logging(level=\"DEBUG\", use_json=False)\n</code></pre>"},{"location":"technical/logging-enhancements/#environment-auto-detection","title":"Environment Auto-Detection","text":"<p>The logger checks for cloud hosting indicators:</p> Environment Detection Variable Azure App Service <code>WEBSITE_INSTANCE_ID</code> Azure Functions <code>AZURE_FUNCTIONS_ENVIRONMENT</code> AWS Lambda <code>AWS_EXECUTION_ENV</code> Kubernetes <code>KUBERNETES_SERVICE_HOST</code>"},{"location":"technical/logging-enhancements/#structured-logging","title":"Structured Logging","text":"<p>Add queryable custom fields:</p> <pre><code>logger.info(\n    \"Model training complete\",\n    extra={'extra_fields': {\n        'model_name': 'XGBClassifier',\n        'f1_score': 0.843\n    }}\n)\n</code></pre>"},{"location":"technical/logging-enhancements/#logging-levels","title":"Logging Levels","text":"<ul> <li>DEBUG: Detailed diagnostic information</li> <li>INFO: General operational events</li> <li>WARNING: Something unexpected but not critical</li> <li>ERROR: Serious problem; application continues</li> <li>CRITICAL: Application failure</li> </ul>"},{"location":"technical/logging-enhancements/#modules-enhanced","title":"Modules Enhanced","text":"Module Purpose titanic_ml/data/loader.py Data loading logging titanic_ml/data/transformer.py Transformation logging titanic_ml/features/build_features.py Feature engineering logging titanic_ml/models/train.py Training metrics with structured data titanic_ml/models/predict.py Prediction tracking with metrics titanic_ml/app/routes.py API request/response logging"},{"location":"technical/logging-enhancements/#best-practices","title":"Best Practices","text":"<ol> <li>Use structured logging for metrics (avoid free-form text)</li> <li>Log at appropriate levels (INFO for operations, DEBUG for diagnostics)</li> <li>Include context (model names, feature counts, data shapes)</li> <li>Avoid logging sensitive data (PII, credentials, passwords)</li> <li>Log summaries not entire objects</li> </ol> <p>For cloud deployments, configure environment-specific logging levels and ensure log aggregation is enabled.</p>"}]}